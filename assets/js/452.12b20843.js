(window.webpackJsonp=window.webpackJsonp||[]).push([[452],{774:function(s,t,a){"use strict";a.r(t);var e=a(3),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block note"},[t("p",{staticClass:"custom-block-title"},[s._v("序言")]),s._v(" "),t("p",[s._v("部署，打造自己的「身份证」。")]),s._v(" "),t("p",[s._v("自动化，时间管理的福利。")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("2021-11-01 @Young Kbt")])])]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#手动部署"}},[s._v("手动部署")]),t("ul",[t("li",[t("a",{attrs:{href:"#介绍"}},[s._v("介绍")])]),t("li",[t("a",{attrs:{href:"#优势"}},[s._v("优势")])]),t("li",[t("a",{attrs:{href:"#限制"}},[s._v("限制")])]),t("li",[t("a",{attrs:{href:"#开始使用"}},[s._v("开始使用")])]),t("li",[t("a",{attrs:{href:"#上传代码"}},[s._v("上传代码")])])])]),t("li",[t("a",{attrs:{href:"#开启部署"}},[s._v("开启部署")])]),t("li",[t("a",{attrs:{href:"#脚本部署"}},[s._v("脚本部署")])]),t("li",[t("a",{attrs:{href:"#自动化部署"}},[s._v("自动化部署")]),t("ul",[t("li",[t("a",{attrs:{href:"#介绍"}},[s._v("介绍")])]),t("li",[t("a",{attrs:{href:"#生成token"}},[s._v("生成token")])]),t("li",[t("a",{attrs:{href:"#配置密钥"}},[s._v("配置密钥")])]),t("li",[t("a",{attrs:{href:"#自动化文件"}},[s._v("自动化文件")])]),t("li",[t("a",{attrs:{href:"#自动化文件流程"}},[s._v("自动化文件流程")])])])]),t("li",[t("a",{attrs:{href:"#问答"}},[s._v("问答")])]),t("li",[t("a",{attrs:{href:"#问题"}},[s._v("问题")])]),t("li",[t("a",{attrs:{href:"#更新base"}},[s._v("更新base")])]),t("li",[t("a",{attrs:{href:"#自定义域名"}},[s._v("自定义域名")])])])]),t("p"),s._v(" "),t("h2",{attrs:{id:"手动部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动部署"}},[s._v("#")]),s._v(" 手动部署")]),s._v(" "),t("h3",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),t("p",[t("code",[s._v("GitHub Pages")]),s._v(" 是一个静态站点托管服务。")]),s._v(" "),t("p",[s._v("如果你想记录生活、抒发情感、分享见解，这一切都离不开一个可以承载文字的平台，一个独立的、由自己掌控的平台，而 "),t("code",[s._v("GitHub Pages")]),s._v(" 就是这么一个平台。")]),s._v(" "),t("p",[s._v("在这个平台里你可以使用自己的个性域名；可以在海量的主题里挑选最适合你的那一款，如果你技术极客，也可以根据自己的喜好，设计属于自己的个性化页面；你既可以在线创建和发布网站，也可以在本地通过客户端工具或者命令行进行网站和内容的管理。")]),s._v(" "),t("p",[s._v("你完全可以通过 "),t("code",[s._v("GitHub Pages")]),s._v(" 展示和输出自身价值，甚至可以把它打造成属于自己的互联网「身份证」。")]),s._v(" "),t("p",[s._v("如果你想仔细了解 "),t("code",[s._v("GitHub Pages")]),s._v("，"),t("a",{attrs:{href:"https://docs.github.com/cn/pages",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击这里"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"优势"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优势"}},[s._v("#")]),s._v(" 优势")]),s._v(" "),t("ul",[t("li",[s._v("GitHub Pages 完全免费，不需要个人购买服务器、域名")]),s._v(" "),t("li",[s._v("官方文档详细，不需要强大的编程能力，只需要一步一步按着操作来使用")]),s._v(" "),t("li",[s._v("支持的功能多，你可以绑定你的域名、使用免费的 HTTPS、自己 DIY 网站的主题、使用他人开发好的插件等等")]),s._v(" "),t("li",[s._v("完成搭建后，只需要专注于文章即可，其他诸如环境搭建、系统维护、文件存储的事情一概不用操心，都由 GitHub Pages 处理")])]),s._v(" "),t("p",[s._v("......")]),s._v(" "),t("h3",{attrs:{id:"限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#限制"}},[s._v("#")]),s._v(" 限制")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("GitHub Pages")]),s._v(" 源仓库建议限制为 1GB；")]),s._v(" "),t("li",[s._v("发布的 "),t("code",[s._v("GitHub Pages")]),s._v(" 网站可能不超过 1GB；")]),s._v(" "),t("li",[t("code",[s._v("GitHub Pages")]),s._v(" 网站每月的带宽限制为 100GB；")]),s._v(" "),t("li",[t("code",[s._v("GitHub Pages")]),s._v(" 网站每小时限制 10 个软件。")])]),s._v(" "),t("h3",{attrs:{id:"开始使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始使用"}},[s._v("#")]),s._v(" 开始使用")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("首先，你必须拥有一个 "),t("code",[s._v("GitHub")]),s._v(" 账号，"),t("a",{attrs:{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("注册点击这里"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[s._v("创建一个仓库用于存放自己的博客项目，如图：点击右上角的 + 号")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101162515.png",alt:"image-20211101162457377"}})])]),s._v(" "),t("li",[t("p",[s._v("填写自己的仓库信息")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101163428.png",alt:"image-20211101163426646"}})]),s._v(" "),t("p",[s._v("如我的博客仓库名就叫 "),t("code",[s._v("notes-blog")]),s._v("，因为我打算创建一个生活博客，类似于 "),t("code",[s._v("live-blog")]),s._v("，所以对博客名进行分类")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("防止图片失效，这里记录步骤和gitignore文件内容")]),s._v(" "),t("ol",[t("li",[s._v("填写仓库名")]),s._v(" "),t("li",[s._v("填写仓库描述，可以不写")]),s._v(" "),t("li",[s._v("选择公有 "),t("code",[s._v("Public")])]),s._v(" "),t("li",[s._v("建议选择 "),t("code",[s._v("Add a README file")]),s._v("，添加README文档")]),s._v(" "),t("li",[t("code",[s._v("Add .gitignore")]),s._v(" 是添加 "),t("code",[s._v(".gitignore")]),s._v(" 文件，如果不知道文件内容，可以不选。则需要手动在自己的博客目录下创建 "),t("code",[s._v(".gitignore")]),s._v("文档，填入如下内容：")])]),s._v(" "),t("div",{staticClass:"language-md line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-md"}},[t("code",[t("span",{pre:!0,attrs:{class:"token title important"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" npm")]),s._v("\npackage-lock.json\nnode_modules\n\n"),t("span",{pre:!0,attrs:{class:"token title important"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" yarn")]),s._v("\nyarn.lock\n\n"),t("span",{pre:!0,attrs:{class:"token title important"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" vscode")]),s._v("\n.vscode\n\n"),t("span",{pre:!0,attrs:{class:"token title important"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" vuepress")]),s._v("\ndocs/.vuepress/dist\n\n"),t("span",{pre:!0,attrs:{class:"token title important"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" 百度链接推送")]),s._v("\nurls.txt\n\n"),t("span",{pre:!0,attrs:{class:"token title important"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("#")]),s._v(" mac")]),s._v("\n.DS_Store\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])])])]),s._v(" "),t("li",[t("p",[s._v("创建仓库后，进入仓库，然后创建一个分支，名字必须叫做"),t("code",[s._v("gh-pages")]),s._v("，可以理解为默认只识别这个名字")]),s._v(" "),t("ul",[t("li",[s._v("创建好的仓库默认主支是 "),t("code",[s._v("master")]),s._v(" 或者 "),t("code",[s._v("main")]),s._v("，现在 GitHub 逐渐让 "),t("code",[s._v("main")]),s._v(" 作为默认的主支名")]),s._v(" "),t("li",[s._v("主支用于仓库的文件汇总，分支则是每一个用户上传到仓库的通道，最终合并到主支")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101164739.png",alt:"image-20211101164737619"}})]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("防止图片失效，这里记录步骤")]),s._v(" "),t("ol",[t("li",[s._v("点击 "),t("code",[s._v("master")]),s._v("，弹出拉下框")]),s._v(" "),t("li",[s._v("搜索 "),t("code",[s._v("gh-pages")]),s._v("，必须是这个")]),s._v(" "),t("li",[s._v("创建 "),t("code",[s._v("gh-pages")]),s._v("。搜索后，会显示 "),t("code",[s._v("Create branch：gh-pages from master")]),s._v("，点击即可创建")])])])])]),s._v(" "),t("div",{staticClass:"custom-block note"},[t("p",{staticClass:"custom-block-title"},[s._v("说明")]),s._v(" "),t("p",[s._v("为什么创建 "),t("code",[s._v("gh-pages")]),s._v(" 分支呢？因为 "),t("code",[s._v("master")]),s._v(" 主支放的是博客源码，而 "),t("code",[s._v("gh-pages")]),s._v(" 分支放的是主支"),t("mark",[s._v("打包")]),s._v("后的博客代码。")]),s._v(" "),t("p",[s._v("不理解打包，可以这么认为：写的 "),t("code",[s._v("markdown")]),s._v(" 文档是源码，要想显示到网页上，需要变成 "),t("code",[s._v("html")]),s._v(" 文件，"),t("mark",[s._v("打包")]),s._v("就是变成 "),t("code",[s._v("html")]),s._v(" 的过程。")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("2021-11-01 @Young Kbt")])])]),s._v(" "),t("h3",{attrs:{id:"上传代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上传代码"}},[s._v("#")]),s._v(" 上传代码")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("初始化项目根目录")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如果早期你的项目体系是从其他人的仓库克隆的，说明你不需要初始化根目录，而是需要修改 "),t("code",[s._v("GitHub")]),s._v(" 的提交地址，因为提交地址目前是其他人的")]),s._v(" "),t("p",[t("strong",[s._v("修改提交地址")])]),s._v(" "),t("p",[s._v("方法一：")]),s._v(" "),t("p",[s._v("执行如下命令进行更改：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" origin  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除远程地址")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin URL  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  URL 填写自己的仓库地址，如我的就是 https://github.com/Kele-Bingtang/notes-blog")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("方法二：（执行方法一，其实就会自动执行方法二）")]),s._v(" "),t("p",[s._v("打开根目录下的 "),t("code",[s._v(".git")]),s._v(" 文件夹，因为这个文件夹默认隐藏，所以需要设置显示隐藏文件")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101172815.png",alt:"image-20211101172749574"}})]),s._v(" "),t("p",[s._v("进入 "),t("code",[s._v(".git")]),s._v("目录后，打开 "),t("code",[s._v("config")]),s._v(" 文件，手动添入信息："),t("code",[s._v("url")]),s._v("、"),t("code",[s._v("fetch")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101172939.png",alt:"image-20211101172938320"}})])])]),s._v(" "),t("p",[t("strong",[s._v("提交项目的源码和项目的打包文件")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("提交项目源码到仓库里")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把项目的所有文件添加到本地仓库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 双引号里是对于添加文件的描述")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将本地仓库提交到远程仓库，也就是你的 GitHub 仓库，地址默认上方 config 文件的 url，具体看上方图片")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 你也可以 git push URL     # URL就是你的仓库地址")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("进入项目的根目录，打包项目")]),s._v(" "),t("code-group",[t("code-block",{attrs:{title:"YARN",active:""}},[t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" run build  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# build是package.json的规定，你的不一定是build")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("code-block",{attrs:{title:"自带"}},[t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("vuepress build docs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])],1)],1),s._v(" "),t("li",[t("p",[s._v("上传打包项目到 "),t("code",[s._v("gh-pages")]),s._v(" 分支，我的是在 "),t("code",[s._v(".vuepress")]),s._v(" 目录下的 "),t("code",[s._v("dist")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把项目的所有文件添加到本地仓库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 双引号里是对于添加文件的描述")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" URL master:gh-pages "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# URL就是你的仓库地址,推送到github gh-pages分支 ")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("-f 是必须的，意味着覆盖原来的内容")])])]),s._v(" "),t("p",[s._v("自此，如果可以在仓库 "),t("code",[s._v("master")]),s._v(" 下看到源码，"),t("code",[s._v("gh-pages")]),s._v(" 下看到打包后的文件，代表成功了")]),s._v(" "),t("h2",{attrs:{id:"开启部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启部署"}},[s._v("#")]),s._v(" 开启部署")]),s._v(" "),t("div",{staticClass:"custom-block note"},[t("p",{staticClass:"custom-block-title"},[s._v("笔记")]),s._v(" "),t("p",[s._v("这一内容为开启 "),t("code",[s._v("Github Page")]),s._v(" 或者 "),t("code",[s._v("Gitee Page")]),s._v("，是为了连接手动部署成功后的操作，如果手动部署失败或者想直接使用脚本部署，则至少二选一成功了再来进行本内容的操作。")]),s._v(" "),t("p",[s._v("自动化部署前需要先开启 "),t("code",[s._v("Github Page")]),s._v(" 或者 "),t("code",[s._v("Gitee Page")]),s._v("。")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("2021-11-01 @Young Kbt")])])]),s._v(" "),t("p",[s._v("当部署成功时，没有看到想要的成果，我相信不会有人继续进行枯燥的操作。下面将开启 "),t("code",[s._v("Github Page")]),s._v(" 或者 "),t("code",[s._v("Gitee Page")]),s._v("，见证自己的部署成功页面。")]),s._v(" "),t("p",[t("strong",[s._v("GitHub Page")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101225539.png",alt:"image-20211101225511644"}})]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("防止图片失效，这里记录步骤")]),s._v(" "),t("ol",[t("li",[s._v("进入仓库，点击 "),t("code",[s._v("Settings")])]),s._v(" "),t("li",[s._v("找到 "),t("code",[s._v("Pages")]),s._v(" 选项")]),s._v(" "),t("li",[s._v("选择要部署的分支，一定是 "),t("code",[s._v("gh-pages")]),s._v(" 分支")]),s._v(" "),t("li",[s._v("绿色框的地址，就是所有人都能访问的地址，访问之后，就能看到你的博客")])])]),s._v(" "),t("p",[t("strong",[s._v("Gitee Page")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211102142541.png",alt:"image-20211102142533829"}})]),s._v(" "),t("p",[s._v("第一步，点击服务的时候，会有 6 个选项，选择第一个 "),t("code",[s._v("Gitee Pages")])]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("防止图片失效，这里记录步骤")]),s._v(" "),t("ol",[t("li",[s._v("进入仓库，点击服务，弹出选择列表，选择 "),t("code",[s._v("Gitee Pages")])]),s._v(" "),t("li",[s._v("选择要部署的分支，一定是 "),t("code",[s._v("gh-pages")]),s._v(" 分支")]),s._v(" "),t("li",[s._v("部署目录默认整个 "),t("code",[s._v("gh-pages")]),s._v("分支")]),s._v(" "),t("li",[s._v("HTTP5 可选可不选，我选了")]),s._v(" "),t("li",[s._v("按下确定按钮，等待不久，显示地址，所有人访问这个地址就能进入你的博客")])])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[t("code",[s._v("Github")]),s._v(" 一旦更新 "),t("code",[s._v("gh-pages")]),s._v(" 分支内容，会自动重新部署，所以访问页面是最新的。")]),s._v(" "),t("p",[t("code",[s._v("Gitee")]),s._v(" 一旦更新 "),t("code",[s._v("gh-pages")]),s._v(" 分支内容，需要手动点击上图的更新按钮，访问的页面才是最新的。要想自动更新部署。要花钱。")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("2021-11-02 @Young Kbt")])])]),s._v(" "),t("h2",{attrs:{id:"脚本部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本部署"}},[s._v("#")]),s._v(" 脚本部署")]),s._v(" "),t("div",{staticClass:"custom-block note"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("脚本部署仅适用于把打包后的文件推送到 "),t("code",[s._v("GitHub")]),s._v(" 仓库的 "),t("code",[s._v("gh-pages")]),s._v(" 分支下，不适用把项目源码推送到 "),t("code",[s._v("master")]),s._v(" 主支上。")]),s._v(" "),t("p",[s._v("所以还得手动执行命令把源码推送到 GitHub 仓库。当然"),t("a",{attrs:{href:"#%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2"}},[s._v("自动化部署")]),s._v("，可以全部解决。")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("2021-11-01 @Young Kbt")])])]),s._v(" "),t("p",[s._v("每次写完文档，如果都需要像上面"),t("a",{attrs:{href:"#%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81"}},[s._v("上传代码")]),s._v("中手动打包，无疑是繁琐且耗费时间的，学会使用脚本解决频繁的问题，能更加专注于文章。")]),s._v(" "),t("p",[t("code",[s._v("shell")]),s._v(" 脚本，请自行学习，日后我更新了 "),t("code",[s._v("shell")]),s._v(" 的学习文档，这里会提供跳转地址 「*记录」。")]),s._v(" "),t("p",[s._v("该脚本是推送项目到 "),t("code",[s._v("GitHub")]),s._v("，如果推送到 "),t("code",[s._v("Gitee")]),s._v("，修改仓库地址即可，脚本名叫 "),t("code",[s._v("deploy.sh")]),s._v("，请放在项目的根目录下。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成静态文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入生成的文件夹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果手运行该脚本，则执行if里的，如果是GitHub自动执行该脚本，则是else里的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-z")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GITHUB_TOKEN")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("msg")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("githubUrl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("git@github.com:Kele-Bingtang/notes-blog.git  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 替换自己的 GitHub 仓库地址，SSH格式")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("msg")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'来自github actions的自动部署'")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 替换自己的 GitHub 仓库地址，更改的是 @后面的地址 以及 把Kele-Bingtang 改为自己用户名")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("githubUrl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://Kele-Bingtang:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${GITHUB_TOKEN}")]),s._v("@github.com/Kele-Bingtang/notes-blog.git \n "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--global")]),s._v(" user.name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Kele_Bingtang"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改为自己的 GitHub 用户名")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--global")]),s._v(" user.email "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2456019588@qq.com"')]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改为自己的 GitHub 邮箱，注册时绑定的邮箱")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${msg}")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$githubUrl")]),s._v(" master:gh-pages "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 推送到github gh-pages分支")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退回开始所在目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" docs/.vuepress/dist\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("p",[s._v("在项目根目录打开 "),t("code",[s._v("bash")]),s._v(" 命令窗口或者 "),t("code",[s._v("Git Bash Here")]),s._v(" 窗口，执行该脚本")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" deploy.sh  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 假设你的脚本叫 deploy.sh")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("注意：Windows下的 "),t("code",[s._v("cmd")]),s._v(" 无法执行 "),t("code",[s._v("shell")]),s._v(" 脚本")])]),s._v(" "),t("h2",{attrs:{id:"自动化部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动化部署"}},[s._v("#")]),s._v(" 自动化部署")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[t("code",[s._v("Github")]),s._v(" 一旦推送了新代码，则会自动化部署。")]),s._v(" "),t("p",[t("code",[s._v("Gitee")]),s._v(" 一旦推送了新代码，不会自动化部署，需要手动点击更新按钮。如实现自动化，需要收费，99元/年。")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("2021-11-01 @Young Kbt")])])]),s._v(" "),t("p",[s._v("使用了脚本部署，相比较手动部署，少了打包的过程，节省了时间，但是还要手动执行两次过程：")]),s._v(" "),t("ol",[t("li",[s._v("敲打命令推送项目源码到仓库的 "),t("code",[s._v("master")]),s._v(" 上")]),s._v(" "),t("li",[s._v("执行 "),t("code",[s._v("shell")]),s._v(" 脚本，自动打包并推送打包内容到仓库的 "),t("code",[s._v("gh-pages")]),s._v(" 上")])]),s._v(" "),t("p",[s._v("自动化部署利用了 "),t("code",[s._v("GitHub Actions")]),s._v(" ，仅需实现过程1：推送项目源码到 "),t("code",[s._v("master")]),s._v("，即可自动实现过程 2")]),s._v(" "),t("p",[s._v("过程 1 可以写一个脚本执行。这样执行一个脚本，即可实现自动化，下方有该脚本，名叫 "),t("code",[s._v("push.sh")])]),s._v(" "),t("h3",{attrs:{id:"介绍-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍-2"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/features/actions",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub Actions"),t("OutboundLink")],1),s._v(" 是 GitHub 的持续集成服务，于 2018 年 10 月推出。")]),s._v(" "),t("p",[t("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html?20191227113947#comment-last",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub Actions 入门教程"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/actions",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub Actions 商城"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"生成token"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成token"}},[s._v("#")]),s._v(" 生成token")]),s._v(" "),t("p",[s._v("首先，获取 token，这是 GitHub 的另一种授权方式，即不需要用户名和密码")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("进入 GitHub，点击头像，找到 setting")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101184344.png",alt:"image-20211101184343641"}})])]),s._v(" "),t("li",[t("p",[s._v("找到 Developer settings 并点击")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101184415.png",alt:"image-20211101184414278"}})])]),s._v(" "),t("li",[t("p",[s._v("点击 "),t("code",[s._v("Persional access tokens")]),s._v("，然后点击 "),t("code",[s._v("Generate new token")]),s._v(" 生成toke")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101184621.png",alt:"image-20211101184550152"}})])]),s._v(" "),t("li",[t("p",[s._v("填写 "),t("code",[s._v("Note")]),s._v("，即 "),t("code",[s._v("token")]),s._v(" 的描述，并选择 "),t("code",[s._v("repo")]),s._v("，其他不用选")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101184727.png",alt:"image-20211101184725720"}})])])]),s._v(" "),t("p",[s._v("如果不想你的 "),t("code",[s._v("token")]),s._v(" 过期，在 "),t("code",[s._v("Expiration")]),s._v(" 选中 "),t("code",[s._v("No expiration")]),s._v(" 即可")]),s._v(" "),t("p",[t("code",[s._v("token")]),s._v(" 生成后，记得保存下来，因为页面一旦关闭，"),t("code",[s._v("token")]),s._v(" 不会在显示")]),s._v(" "),t("h3",{attrs:{id:"配置密钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置密钥"}},[s._v("#")]),s._v(" 配置密钥")]),s._v(" "),t("p",[s._v("拿到了 token，需要将该 token 进行配置，赋予某仓库权限")]),s._v(" "),t("p",[s._v("内容分为三步，其中第三步看需求，第一、二步则是必须。")]),s._v(" "),t("p",[s._v("第一步：配置 "),t("code",[s._v("ACCESS_TOKEN")]),s._v("；")]),s._v(" "),t("p",[s._v("第二步：配置 "),t("code",[s._v("SSH key")])]),s._v(" "),t("p",[s._v("第三步：配置 "),t("code",[s._v("GITEE_RSA_PRIVATE_KEY")]),s._v("和 "),t("code",[s._v("GITEE_PASSWORD")]),s._v("。")]),s._v(" "),t("p",[t("strong",[s._v("配置 ACCESS_TOKEN")])]),s._v(" "),t("p",[s._v("配置密钥是因为自动化部署过程，需要 GitHub 权限，没有 token，就没有权限部署")]),s._v(" "),t("p",[t("code",[s._v("ACCESS_TOKEN")]),s._v(" 是固定的，名字要和下方脚本使用的名对应上。如果需要改，双方都要改")]),s._v(" "),t("ul",[t("li",[s._v("找到仓库的 "),t("code",[s._v("Settings")]),s._v(" ，并点击 "),t("code",[s._v("Secrets")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101185216.png",alt:"image-20211101185215129"}})]),s._v(" "),t("p",[s._v("点击 "),t("code",[s._v("New repository secret")]),s._v(" 并进行配置，其中 Name 是 "),t("code",[s._v("ACCESS_TOKEN")]),s._v("，Value 是之前生成的 "),t("code",[s._v("token")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101185457.png",alt:"image-20211101185455984"}})]),s._v(" "),t("p",[s._v("点击 "),t("code",[s._v("Add secret")]),s._v(" 即可该密钥添加成功")]),s._v(" "),t("p",[t("strong",[s._v("配置 SSH Key")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("打开 Git Bash 查看电脑上是否已经存在 SSH 密钥。如果有，请直接看第三步")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ~/.ssh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("或者前往"),t("code",[s._v("C:\\Users\\你的用户名")]),s._v("下找 "),t("code",[s._v(".ssh")]),s._v(" 文件夹")])]),s._v(" "),t("li",[t("p",[s._v("如果没有则需要创建新的 "),t("code",[s._v("ssh key")]),s._v("，打开 "),t("code",[s._v("Git Bash Here")]),s._v("，输入：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("ssh-keygen "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" rsa "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"你的绑定GitHub邮箱"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("1s 左右执行会停止，提示你选中文件保存路径，直接按 "),t("code",[s._v("Enter")]),s._v(" 即可，即路径就在"),t("code",[s._v("C:\\Users\\你的用户名")]),s._v("下")]),s._v(" "),t("p",[s._v("1s 左右执行又会停止，提示你输入密码，这里不用输入，直接按 "),t("code",[s._v("Enter")]),s._v(" 即可")])]),s._v(" "),t("li",[t("p",[s._v("在"),t("code",[s._v("C:\\Users\\你的用户名")]),s._v("目录下生成 "),t("code",[s._v(".ssh")]),s._v(" 文件夹，去文件夹里找到两个文件："),t("code",[s._v("id_rsa")]),s._v(" 和 "),t("code",[s._v("id_rsa.pub")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("id_rsa.pub")]),s._v(" 为公钥，可以多地方使用")]),s._v(" "),t("li",[t("code",[s._v("id_rsa")]),s._v(" 为私钥，提供私钥能找到所有的公钥")])])]),s._v(" "),t("li",[t("p",[s._v("复制 "),t("code",[s._v("id_rsa.pub")]),s._v(" 的内容，进入 "),t("code",[s._v("Github")]),s._v(" 的 "),t("code",[s._v("Settings")]),s._v(" 设置里，找到 "),t("code",[s._v("SSH and GPG keys")]),s._v("，然后点击 "),t("code",[s._v("New SSH Key")]),s._v(" 进行配置")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101204325.png",alt:"image-20211101204250487"}})]),s._v(" "),t("p",[s._v("点击 "),t("code",[s._v("New SSH Key")]),s._v(" 并进行配置：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101204644.png",alt:"image-20211101204609335"}})]),s._v(" "),t("p",[s._v("Title 就是 SSh Key 的标题；Key 填入 "),t("code",[s._v("id_rsa.pub")]),s._v(" 的内容，如果 Key 不对，说明打开该文件的编码格式有问题")])]),s._v(" "),t("li",[t("p",[s._v("测试 SSH 是否连接到 "),t("code",[s._v("GitHub")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-T")]),s._v(" git@github.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("成功连接标志："),t("code",[s._v("You've sucessfully ...,but Github ... access")])])])]),s._v(" "),t("p",[t("strong",[t("mark",[s._v("可选")]),s._v("步骤：配置 GITEE_RSA_PRIVATE_KEY 和 GITEE_PASSWORD")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("如果需要 "),t("code",[s._v("GitHub")]),s._v(" 的仓库同步到 "),t("code",[s._v("Gitee")]),s._v(" 上，则执行这步骤。")]),s._v(" "),t("p",[s._v("下方的自动化文件里，有 "),t("code",[s._v("GitHub")]),s._v(" 仓库同步到 "),t("code",[s._v("Gitee")]),s._v(" 的实现代码，如果不需要，请注释或者删除。")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("2021-11-01 @Young Kbt")])])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("在 "),t("code",[s._v("Gitee")]),s._v(" 创建仓库，名字要和 "),t("code",[s._v("Github")]),s._v(" 的项目仓库一致，包括新建 "),t("code",[s._v("gh-master")]),s._v(" 分支")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101223736.png",alt:"image-20211101223735443"}})])]),s._v(" "),t("li",[t("p",[s._v("新建 "),t("code",[s._v("gh-pages")]),s._v(" 分支")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101224153.png",alt:"image-20211101223943673"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101224159.png",alt:"image-20211101224059084"}})]),s._v(" "),t("ul",[t("li",[t("p",[s._v("复制 "),t("code",[s._v("id_rsa.pub")]),s._v(" 的内容，进入 "),t("code",[s._v("Gitee")]),s._v(" 的设置里，找到 "),t("code",[s._v("SSH 公钥")]),s._v("，进行配置")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101205952.png",alt:"image-20211101205950948"}})])]),s._v(" "),t("li",[t("p",[s._v("测试 SSH 是否连接到 "),t("code",[s._v("Gitee")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ssh -T git@gitee.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("成功连接标志："),t("code",[s._v("You've sucessfully ...,but Github ... access")])])]),s._v(" "),t("li",[t("p",[s._v("重新执行配置 "),t("code",[s._v("ACCESS_TOKEN")]),s._v(" 步骤，即进入 "),t("code",[s._v("GitHub")]),s._v(" 仓库，点击 "),t("code",[s._v("Settings")]),s._v(" -> "),t("code",[s._v("Secrets")]),s._v(" -> "),t("code",[s._v("New repository secret")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("Name 为 "),t("code",[s._v("GITEE_PASSWORD")]),s._v("，Value 为你的 "),t("code",[s._v("Gitee")]),s._v(" 密码")])]),s._v(" "),t("li",[t("p",[s._v("Name 为 "),t("code",[s._v("GITEE_RSA_PRIVATE_KEY")]),s._v("，Value为 "),t("code",[s._v("id_rsa")]),s._v(" 文件的内容")]),s._v(" "),t("blockquote",[t("p",[s._v("注意：是 "),t("code",[s._v("id_rsa")]),s._v(" 私钥，而不是 "),t("code",[s._v("id_rsa.pub")]),s._v(" 公钥")])])])])])]),s._v(" "),t("p",[s._v("自此，完成了密钥的配置。")]),s._v(" "),t("h3",{attrs:{id:"自动化文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动化文件"}},[s._v("#")]),s._v(" 自动化文件")]),s._v(" "),t("p",[t("code",[s._v("GitHub Actions")]),s._v(" 的实现需要一个 "),t("code",[s._v("yml")]),s._v(" 文件，在根目录下创建两个文件夹和一个文件："),t("code",[s._v("/.github/workflows/ci.yml")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20211101190308.png",alt:"image-20211101190242407"}})]),s._v(" "),t("p",[t("code",[s._v("myNote")]),s._v(" 是我的博客根目录。"),t("code",[s._v("ci.yml")]),s._v(" 的 "),t("code",[s._v("ci")]),s._v(" 可自定义")]),s._v(" "),t("p",[t("code",[s._v("ci.yml")]),s._v(" 文件内容以及过程：（我已经写好了注释）")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" CI\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#on: [push]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 master 分支发生 push 事件时触发。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" master\n      \n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置环境变量")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("TZ")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Asia/Shanghai "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 时区（设置时区可使页面中的 最近更新时间 使用时区时间）")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 工作流")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义名称")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 必填，运行在虚拟机环境 ubuntu-latest")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("strategy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matrix")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("14.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤1")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Checkout "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤1，拉取代码")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用的动作。格式：userName/repoName。作用：检出仓库，获取源码。 官方actions库：https://github.com/actions")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v1 \n      \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Use Node.js $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("version "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤2")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/setup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node@v1 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作用：安装nodejs")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("version "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本")]),s._v("\n\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" run deploy.sh "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤3：执行脚本 deploy.sh")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置环境变量，未设置则不运行")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("GITHUB_TOKEN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.ACCESS_TOKEN "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# token ")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("SSH_PRIVATE_KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.GITEE_RSA_PRIVATE_KEY "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 私钥")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" npm install "),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("&&")]),s._v(" npm run deploy  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行 deploy.sh 脚本，位于项目根目录")]),s._v("\n\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Push Matser To Gitee  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤4：GitHub 内容同步到 Gitee，同步仓库是 master")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" wearerequired/git"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("mirror"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("action@master\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("SSH_PRIVATE_KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.GITEE_RSA_PRIVATE_KEY "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从源到目的地")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("source-repo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git@github.com:Kele-Bingtang/notes-blog.git'")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Github 仓库地址")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("destination-repo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git@gitee.com:kele-bingtang/notes-blog.git'")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Gitee 仓库地址")]),s._v("\n\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Build Gitee Pages "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤5：自动部署到 Gitee Pages")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yanglbme/gitee"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("action@master\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意替换为你的 Gitee 用户名")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("gitee-username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Kele"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Bingtang\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意在 Settings -> Secrets 配置 GITEE_PASSWORD")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("gitee-password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.GITEE_PASSWORD "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意替换为你的 Gitee 仓库，仓库名严格区分大小写，请准确填写，否则会出错")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("gitee-repo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Kele"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Bingtang/notes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("blog\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 要部署的分支，默认是 master，若是其他分支，则需要指定（指定的分支必须存在）")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gh"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br")])]),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("点击打开，一些参数解释")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("name")]),s._v(" 是 workflow 的名称。如果省略该字段，默认为当前 workflow 的文件名，可自定义，查看步骤时显示的代号，叫 aa 都可以，描述步骤功能即可")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("on")]),s._v(" 指定触发 workflow 的条件，通常是某些事件，也可以是事件的数组。如上方就是 "),t("code",[s._v("push")]),s._v(" 到 "),t("code",[s._v("master")]),s._v(" 后触发")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("jobs")]),s._v(" 里面，需要写出每一项任务的 "),t("code",[s._v("job_id")]),s._v("，具体名称自定义。"),t("code",[s._v("job_id")]),s._v("里面的 "),t("code",[s._v("name")]),s._v(" 字段是任务的说明")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("runs-on")]),s._v(" 指定运行所需要的虚拟机环境。它是"),t("mark",[s._v("必填")]),s._v("字段")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("steps")]),s._v(" 指定每个 Job 的运行步骤，可以包含一个或多个步骤。每个步骤都可以指定三个字段：name、run、env")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("uses")]),s._v(" 用的就是别人写好的插件，持续集成由很多操作组成，GitHub 因此允许其他人把写好的插件共享到插件市场，以便他人使用。因此如果你需要某个 action，不必自己写复杂的脚本，直接引用他人写好的 action 即可。、。官网自带的格式：action/功能名@xx，别人写好的 "),t("code",[s._v("users")]),s._v(" 格式为：作者名/功能名@xx。作者名别改成自己的名字，我犯过这个错误，无需纠结为什么叫这个，我之前纠结过，人家规定的不可变的名字。类似于一个写好的命令脚本")]),s._v(" "),t("p",[s._v("要想找多个其他 "),t("code",[s._v("users")]),s._v(" 脚本，前往"),t("a",{attrs:{href:"https://github.com/actions",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub Actions 商城"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("code",[s._v("env")]),s._v(" 指环境变量，也就是运行时需要的一些参数，如密钥，仓库地址等")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("with")]),s._v(" 表示传给插件的参数")])])])]),s._v(" "),t("p",[s._v("内容的 "),t("code",[s._v("steps")]),s._v(" 里的步骤详细如下：（一个 "),t("code",[s._v("name")]),s._v(" 代表一步）")]),s._v(" "),t("ol",[t("li",[s._v("拉取代码。不需要修改")]),s._v(" "),t("li",[s._v("检查 "),t("code",[s._v("Node.js")]),s._v(" 版本，安装指定的 "),t("code",[s._v("Nodejs")]),s._v(" 版本，如果版本对了，则会跳过这一步。不需要修改")]),s._v(" "),t("li",[s._v("执行脚本 "),t("code",[s._v("deploy.sh")]),s._v("。也就是"),t("a",{attrs:{href:"#%E8%84%9A%E6%9C%AC%E9%83%A8%E7%BD%B2"}},[s._v("脚本部署")]),s._v("的脚本，这个脚本会打包项目到 "),t("code",[s._v("gh-pages")]),s._v(" 目录下。需要"),t("a",{attrs:{href:"#%E9%85%8D%E7%BD%AE%E5%AF%86%E9%92%A5"}},[s._v("配置密钥")]),s._v("，"),t("code",[s._v("env")]),s._v(" 读取的就是密钥。上方说过密钥为什么固定是"),t("code",[s._v("ACCESS_TOKEN")]),s._v("这些，因为这里读取的就是这些名字，如需修改，双方都要改")]),s._v(" "),t("li",[t("code",[s._v("GitHub")]),s._v(" 仓库同步到 "),t("code",[s._v("Gitee")]),s._v("，同步仓库是 "),t("code",[s._v("master")]),s._v("，如果没有这个打算，则注释或者删除掉，包括第五步")]),s._v(" "),t("li",[t("code",[s._v("Gitee")]),s._v(" 获得最新的代码后，不会重新部署新的代码。因为免费的 "),t("code",[s._v("Gitee Page")]),s._v(" 需要手动点击更新，而 "),t("code",[s._v("Github Page")]),s._v(" 自动😸。所以需要别人写好的 "),t("code",[s._v("users: yanglbme/gitee-pages-action@master")]),s._v(" 帮助点击更新")])]),s._v(" "),t("p",[s._v("文件内容需要改的是仓库地址，以及 "),t("code",[s._v("Gitee")]),s._v(" 用户名")]),s._v(" "),t("p",[s._v("编写提交项目到 "),t("code",[s._v("master")]),s._v(" 仓库的脚本，叫 "),t("code",[s._v("push.sh")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本脚本为自动部署的入口脚本，只需执行该脚本，即可实现GitHub的自动部署，以及 push 到 GitHub 的所有文件同步到 Gitee 中")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GITHUB_REPO")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("git@github.com:Kele-Bingtang/notes-blog.git\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("comment")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$comment")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("comment")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"更新内容+action自动部署"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-A")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${comment}")]),s._v('"')]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $1 是启动该脚本传来的参数，如 sh push.sh hello，其中 hello 就会插入到 $1 处，如果想两个参数，则加 $2")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GITHUB_REPO")]),s._v("   \n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("在根目录下用 "),t("code",[s._v("Git Bash Here")]),s._v(" 打开，并执行该脚本")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" push.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("一旦该脚本执行成功后，静待五六分钟，会发现 "),t("code",[s._v("master")]),s._v(" 主支更新了项目源码，"),t("code",[s._v("gh-pages")]),s._v(" 分支更新的项目打包后的代码。")]),s._v(" "),t("p",[t("code",[s._v("Gitee")]),s._v(" 对应的仓库 "),t("code",[s._v("master")]),s._v(" 主支也更新了项目源码，"),t("code",[s._v("gh-pages")]),s._v(" 分支也更新的项目打包后的代码。")]),s._v(" "),t("h3",{attrs:{id:"自动化文件流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动化文件流程"}},[s._v("#")]),s._v(" 自动化文件流程")]),s._v(" "),t("p",[t("strong",[s._v("yml 被执行流程")])]),s._v(" "),t("p",[s._v("当第一次提交项目到仓库时，"),t("code",[s._v("Github")]),s._v(" 会自动在项目根目录找到 "),t("code",[s._v("/.github/workflows/")]),s._v(" 下的 "),t("code",[s._v("yml")]),s._v(" 文件，如 "),t("code",[s._v("ci.yml")]),s._v("，并且执行该 "),t("code",[s._v("ci.yml")]),s._v(" 文件；")]),s._v(" "),t("p",[s._v("当第二次乃至后面提交项目到仓库时，"),t("code",[s._v("Github")]),s._v(" 判断 "),t("code",[s._v("ci.yml")]),s._v(" 内容是否发送变化，没有则执行仓库的 "),t("code",[s._v("ci.yml")]),s._v(" 文件，有则先更新文件再执行。")]),s._v(" "),t("p",[t("strong",[s._v("yml 执行流程")])]),s._v(" "),t("p",[s._v("当把项目源码推送到仓库的 "),t("code",[s._v("master")]),s._v(" 主支时，该 "),t("code",[s._v("yml")]),s._v(" 文件开始执行。该文件执行的第三步，就会执行 "),t("code",[s._v("deploy.sh")]),s._v(" 脚本部署文件，完成把打包文件提交到 "),t("code",[s._v("gh-pages")]),s._v(" 分支下，该文件的第四步，则是把 "),t("code",[s._v("Github")]),s._v(" 仓库的代码同步到 "),t("code",[s._v("Gitee")]),s._v(" 仓库里，包括 "),t("code",[s._v("gh-pages")]),s._v("分支（双方仓库名字要一致），该文件第五步，则是手动点击了 "),t("code",[s._v("Gitee")]),s._v(" 的更新部署按钮。（"),t("code",[s._v("Gitee")]),s._v(" 自动更新部署需要 99元/年，没钱只能利用脚本手动点击按钮更新）")]),s._v(" "),t("h2",{attrs:{id:"问答"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问答"}},[s._v("#")]),s._v(" 问答")]),s._v(" "),t("p",[t("strong",[s._v("Q1 - 能概括一下本内容吗？")])]),s._v(" "),t("p",[s._v("可以，概括的过程包括 "),t("code",[s._v("GitHub")]),s._v(" 和 "),t("code",[s._v("Gitee")]),s._v("，如果只选择一方，选择性另一方忽略即可。")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("Github")]),s._v(" 和 "),t("code",[s._v("Gitee")]),s._v(" 分别创建一个仓库，并且分别创建 "),t("code",[s._v("gh-pages")]),s._v(" 分支，仓库名要一致")]),s._v(" "),t("li",[s._v("将写好的项目源码提交到 "),t("code",[s._v("master")]),s._v(" 主支，打包后的项目文件放到 "),t("code",[s._v("gh-pages")]),s._v(" 分支，主支名即 default")]),s._v(" "),t("li",[s._v("开启 "),t("code",[s._v("Github Pages")]),s._v(" 和 "),t("code",[s._v("Gitee Pages")]),s._v("，两者都有自己的部署地址，前者网速慢，后者网速快")]),s._v(" "),t("li",[s._v("实现脚本部署，节省步骤 2 的打包项目提交时间，但是无法节省项目源码提交时间")]),s._v(" "),t("li",[s._v("首先生成 "),t("code",[s._v("token")]),s._v("，然后生成公钥私钥，公钥分别配置在 "),t("code",[s._v("Github")]),s._v(" 和 "),t("code",[s._v("Gitee")]),s._v(" 网站上，"),t("code",[s._v("token")]),s._v("、私钥、"),t("code",[s._v("Gitee")]),s._v(" 密码都配置在项目仓库上")]),s._v(" "),t("li",[s._v("配置 "),t("code",[s._v("yml")]),s._v(" 文件，在 "),t("code",[s._v("根目录/.github/workflows/")]),s._v(" 下创建 "),t("code",[s._v("ci.yml")]),s._v(" 文件，填写好内容")]),s._v(" "),t("li",[s._v("编写 "),t("code",[s._v("push.sh")]),s._v(" 脚本，填写好内容，每次写完文档后执行该脚本，即可实现完成自动化部署")])]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[s._v("Q2 - 实现自动化部署有多少个脚本？")])]),s._v(" "),t("p",[s._v("3个")]),s._v(" "),t("p",[t("code",[s._v("push.sh")]),s._v("：提交源码到 "),t("code",[s._v("master")]),s._v(" 主支；")]),s._v(" "),t("p",[t("code",[s._v("deploy")]),s._v("：提交打包文件到 "),t("code",[s._v("gh-pages")]),s._v(" 分支；")]),s._v(" "),t("p",[t("code",[s._v("ci.yml")]),s._v("：同步 "),t("code",[s._v("Github")]),s._v(" 仓库到 "),t("code",[s._v("Gitee")]),s._v(" 仓库。")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[s._v("Q3 - 为什么配置密钥内容好乱？")])]),s._v(" "),t("p",[s._v("其实配置密钥总结就是：给 "),t("code",[s._v("Github")]),s._v(" 项目仓库配置 "),t("code",[s._v("token")]),s._v("、"),t("code",[s._v("Gitee")]),s._v(" 密码、私钥，给 "),t("code",[s._v("Github")]),s._v("、"),t("code",[s._v("Gitee")]),s._v(" 配置公钥。")]),s._v(" "),t("p",[t("strong",[s._v("Q4 - 为什么给仓库配置 "),t("code",[s._v("token")]),s._v("？")])]),s._v(" "),t("p",[s._v("因为项目仓库要实现自动化部署，需要权限，而权限来自于 "),t("code",[s._v("token")]),s._v("，可以理解为它是另一种用户名密码，所以别泄露 "),t("code",[s._v("token")]),s._v("。")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[s._v("Q5 - 为什么分别给 "),t("code",[s._v("GitHub")]),s._v(" 网站和 "),t("code",[s._v("Gitee")]),s._v(" 网站配置 "),t("code",[s._v("id_rsa.pub")]),s._v(" 公钥，又给 "),t("code",[s._v("Github")]),s._v(" 的项目仓库配置 "),t("code",[s._v("id_rsa")]),s._v(" 私钥？")])]),s._v(" "),t("p",[s._v("因为配置好自动化文件后，"),t("code",[s._v("Github")]),s._v(" 要想同步仓库代码到 "),t("code",[s._v("Gitee")]),s._v("，则必须需要搭建桥梁。这个桥梁就是公钥，所以双方都要配好公钥。而私钥则是打开、通往桥梁的钥匙。")]),s._v(" "),t("p",[s._v("比如提交了代码到 "),t("code",[s._v("GitHub")]),s._v(" 仓库，"),t("code",[s._v("Github")]),s._v(" 要想同步到 "),t("code",[s._v("Gitee")]),s._v("，首先找到和自己相吻合的公钥，也就是 "),t("code",[s._v("Gitee")]),s._v(" 的公钥，然后通过 "),t("code",[s._v("GitHub Actions")]),s._v(" 入口前往 "),t("code",[s._v("Gitee")]),s._v("，前往的路上为什么能保证数据的不丢失，就是私钥在指引道路。")]),s._v(" "),t("p",[s._v("多个仓库都可以配置一个公钥，而某一仓库前往这些多个仓库，则需要私钥当作通行证和方向盘。")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[s._v("Q6 - 如果项目不想放在 "),t("code",[s._v("Github")]),s._v(" 仓库，想放在 "),t("code",[s._v("Gitee")]),s._v(" 仓库怎么做？")])]),s._v(" "),t("p",[s._v("可以把 "),t("code",[s._v("Gitee")]),s._v(" 理解为 "),t("code",[s._v("Github")]),s._v(" 的中文版，知道了如何在 "),t("code",[s._v("Github")]),s._v(" 自动化部署项目，并且同步到 "),t("code",[s._v("Gitee")]),s._v("。转换一下语言，我相信也是很容易的。")]),s._v(" "),t("p",[s._v("比如双方都配好公钥、"),t("code",[s._v("Gitee")]),s._v(" 拿着私钥去找 "),t("code",[s._v("Github")]),s._v(" 同步仓库也是可以的。")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[s._v("Q7 - 如果只想把项目放在 "),t("code",[s._v("Github")]),s._v(" 或者 "),t("code",[s._v("Gitee")]),s._v(" 任一网站上，需要都 token、密钥都配置吗？")])]),s._v(" "),t("p",[s._v("不需要，只需要在项目部署的网站配置好 "),t("code",[s._v("token")]),s._v(" 和 "),t("code",[s._v("SSH Key")]),s._v(" 即可，然后去 "),t("code",[s._v("ci.yml")]),s._v(" 里把步骤 4 和步骤 5 注释或者去掉。")]),s._v(" "),t("p",[s._v("有些人只需要配置 "),t("code",[s._v("token")]),s._v(" 即可，不需要配置 "),t("code",[s._v("SSH Key")]),s._v("，因为曾经配置过了，我建议都需要重新配置，防止意外。")]),s._v(" "),t("hr"),s._v(" "),t("p",[t("strong",[s._v("Q8 - 为什么一定同步到 "),t("code",[s._v("Gitee")]),s._v("？")])]),s._v(" "),t("p",[s._v("刚开始我只部署到 "),t("code",[s._v("GitHub Page")]),s._v("，但是毕竟是国外，网速慢，所以就考虑部署到 "),t("code",[s._v("Gitee")]),s._v("，但是又不舍得 "),t("code",[s._v("GitHub")]),s._v("，于是重心依然放在 "),t("code",[s._v("GitHub")]),s._v("，只需要同步到 "),t("code",[s._v("Gitee Pages")]),s._v(" 即可。其实我访问博客，一直访问的是 "),t("code",[s._v("Gitee Pages")]),s._v(" 提供的地址。还是比较快。")]),s._v(" "),t("h2",{attrs:{id:"问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")]),s._v(" "),t("p",[s._v("记录我在部署的过程中遇到的问题，这些问题卡了我挺长时间：")]),s._v(" "),t("ol",[t("li",[s._v("生成 token 和 Secrets 设置")]),s._v(" "),t("li",[s._v("配置 .git/conig 内容以及指令一样")]),s._v(" "),t("li",[s._v(".github/**.yml 设计")]),s._v(" "),t("li",[s._v("GitHub 自动部署，而 Gitee 需要手动")]),s._v(" "),t("li",[s._v("shell 脚本设计")])]),s._v(" "),t("h2",{attrs:{id:"更新base"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新base"}},[s._v("#")]),s._v(" 更新base")]),s._v(" "),t("p",[s._v("因为一些原因，我把 base 由仓库名改为了 "),t("code",[s._v("/")]),s._v("，从而导致部署后访问的地址带有仓库名失效，正确做法：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("GitHub 仓库修改仓库名为："),t("code",[s._v("<username>.github.io")]),s._v("，这样直接访问 "),t("code",[s._v("https://<username>.github.io")]),s._v(" 就会生效")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20220104164505.png",alt:"image-20220104164002661"}})])]),s._v(" "),t("li",[t("p",[s._v("Github 仓库修改路径，仓库名不重要，可改可不改，改为 "),t("code",[s._v("<username>.gitee.io")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20220104164507.png",alt:"image-20220104164129335"}})])])]),s._v(" "),t("p",[s._v("ci.yml 文件把原来的仓库地址修改为更新后的地址：")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" CI\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#on: [push]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 master 分支发生 push 事件时触发。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" master\n\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 工作流")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义名称")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 必填，运行在虚拟机环境 ubuntu-latest")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("strategy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matrix")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("14.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Checkout "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤1，拉取代码")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用的动作。格式：userName/repoName。作用：检出仓库，获取源码。 官方actions库：https://github.com/actions")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v1 \n      \n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Use Node.js $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("version "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤2")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/setup"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("node@v1 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作用：安装nodejs")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node-version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" matrix.node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("version "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本")]),s._v("\n\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" run deploy.sh "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤3：执行脚本 deploy.sh")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置环境变量，未设置则不运行")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("GITHUB_TOKEN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.ACCESS_TOKEN "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# token ")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("SSH_PRIVATE_KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.GITEE_RSA_PRIVATE_KEY "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 私钥")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" npm install "),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("&&")]),s._v(" npm run deploy  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行 deploy.sh 脚本，位于项目根目录")]),s._v("\n\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Push Matser To Gitee  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤4：GitHub 内容同步到 Gitee，同步仓库是 master")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" wearerequired/git"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("mirror"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("action@master\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("SSH_PRIVATE_KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.GITEE_RSA_PRIVATE_KEY "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从源到目的地")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("source-repo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git@github.com:Kele-Bingtang/Kele-Bingtang.github.io.git'")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Github 仓库地址")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("destination-repo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git@gitee.com:kele-bingtang/Kele-Bingtang.gitee.io.git'")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Gitee 仓库地址")]),s._v("\n\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Build Gitee Pages "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 步骤5：自动部署到 Gitee Pages")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yanglbme/gitee"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("action@master\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意替换为你的 Gitee 用户名")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("gitee-username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Kele"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Bingtang\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意在 Settings -> Secrets 配置 GITEE_PASSWORD")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("gitee-password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.GITEE_PASSWORD "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意替换为你的 Gitee 仓库地址，仓库名严格区分大小写，一般地址和仓库名一致，如果地址改了，仓库名不改，要以地址为准（地址仅需后缀，即 https://gitee.com/<username>/xxx 的 xxx 即可）")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("gitee-repo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Kele"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Bingtang/Kele"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Bingtang.gitee.io\n          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 要部署的分支，默认是 master，若是其他分支，则需要指定（指定的分支必须存在）")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gh"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br")])]),t("p",[s._v("值得注意的是 51 行的 "),t("code",[s._v("gitee-repo")]),s._v(" 不是 Gitee 的仓库名字，而是修改的地址名："),t("code",[s._v("<username>.gitee.io")]),s._v("。")]),s._v(" "),t("h2",{attrs:{id:"自定义域名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义域名"}},[s._v("#")]),s._v(" 自定义域名")]),s._v(" "),t("p",[s._v("这里以 GitHub 举例，Gitee 同理。")]),s._v(" "),t("p",[s._v("前往你的域名解析处，进入如下配置：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20220104164500.png",alt:"image-20220104164459334"}})]),s._v(" "),t("p",[s._v("然后进入 GitHub 绑定自定义的域名")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Kele-Bingtang/static/img/%E5%85%B3%E4%BA%8E/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/20220104164841.png",alt:"image-20220104164839571"}})]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("Gitee 的仓库不要改为 "),t("code",[s._v("<username>.gitee.io")]),s._v("，而是直接改为 "),t("code",[s._v("<username>")]),s._v(" 即可。")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("2021-01-04 @Young Kbt")])])]),s._v(" "),t("p",[s._v("套用 Gitee 官方的一句话：")]),s._v(" "),t("p",[s._v("如果你想你的 pages 首页访问地址不带二级目录，如ipvb.gitee.io，"),t("strong",[s._v("你需要建立一个与自己个性地址同名的仓库")]),s._v("，如 https://gitee.com/ipvb 这个用户，想要创建一个自己的站点，但不想以子目录的方式访问，想以"),t("code",[s._v("ipvb.gitee.io")]),s._v("直接访问，那么他就可以创建一个名字为"),t("code",[s._v("ipvb")]),s._v("的仓库 https://gitee.com/ipvb/ipvb 部署完成后，就可以以 "),t("a",{attrs:{href:"https://ipvb.gitee.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://ipvb.gitee.io"),t("OutboundLink")],1),s._v(" 进行访问了。")])])}),[],!1,null,null,null);t.default=n.exports}}]);