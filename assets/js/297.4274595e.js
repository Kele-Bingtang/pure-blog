(window.webpackJsonp=window.webpackJsonp||[]).push([[297],{625:function(a,s,t){"use strict";t.r(s);var e=t(3),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#简介"}},[a._v("简介")])]),s("li",[s("a",{attrs:{href:"#基本使用示例"}},[a._v("基本使用示例")]),s("ul",[s("li",[s("a",{attrs:{href:"#基本用法"}},[a._v("基本用法")])]),s("li",[s("a",{attrs:{href:"#保存访问的网页"}},[a._v("保存访问的网页")])]),s("li",[s("a",{attrs:{href:"#测试网页返回值-响应码"}},[a._v("测试网页返回值(响应码)")])]),s("li",[s("a",{attrs:{href:"#指定-proxy-服务器以及其端口"}},[a._v("指定 proxy 服务器以及其端口")])]),s("li",[s("a",{attrs:{href:"#cookie"}},[a._v("cookie")])]),s("li",[s("a",{attrs:{href:"#模仿浏览器"}},[a._v("模仿浏览器")])]),s("li",[s("a",{attrs:{href:"#伪造-referer-盗链"}},[a._v("伪造 referer（盗链）")])]),s("li",[s("a",{attrs:{href:"#curl-下载文件"}},[a._v("curl 下载文件")])]),s("li",[s("a",{attrs:{href:"#断点续传"}},[a._v("断点续传")])]),s("li",[s("a",{attrs:{href:"#上传文件"}},[a._v("上传文件")])])])]),s("li",[s("a",{attrs:{href:"#常用选项示例"}},[a._v("常用选项示例")]),s("ul",[s("li",[s("a",{attrs:{href:"#a-指定客户端的用户代理标头"}},[a._v("-A 指定客户端的用户代理标头")])]),s("li",[s("a",{attrs:{href:"#b-向服务器发送-cookie"}},[a._v("-b 向服务器发送 Cookie")])]),s("li",[s("a",{attrs:{href:"#c-保存cookie"}},[a._v("-c 保存cookie")])]),s("li",[s("a",{attrs:{href:"#d-发送-post-请求的数据体"}},[a._v("-d 发送 POST 请求的数据体")])]),s("li",[s("a",{attrs:{href:"#data-urlencode-自动将发送的数据进行-url-编码"}},[a._v("--data-urlencode 自动将发送的数据进行 URL 编码")])]),s("li",[s("a",{attrs:{href:"#e-设置-http-标头的请求的来源"}},[a._v("-e 设置 HTTP 标头的请求的来源")])]),s("li",[s("a",{attrs:{href:"#f上传二进制文件"}},[a._v("-F上传二进制文件")])]),s("li",[s("a",{attrs:{href:"#g-构造-url-的查询字符串"}},[a._v("-G 构造 URL 的查询字符串")])]),s("li",[s("a",{attrs:{href:"#h-指定http-请求的标头"}},[a._v("-H 指定HTTP 请求的标头")])]),s("li",[s("a",{attrs:{href:"#i-显示response头信息-并打印源码"}},[a._v("-i 显示Response头信息，并打印源码")])]),s("li",[s("a",{attrs:{href:"#i-显示response头信息-不打印源码"}},[a._v("-I 显示Response头信息，不打印源码")])]),s("li",[s("a",{attrs:{href:"#k-跳过-ssl-检测"}},[a._v("-k 跳过 SSL 检测")])]),s("li",[s("a",{attrs:{href:"#l-指定-http-请求跟随服务器的重定向"}},[a._v("-L 指定 HTTP 请求跟随服务器的重定向")])]),s("li",[s("a",{attrs:{href:"#limit-rate-限制-http-请求和回应的带宽"}},[a._v("--limit-rate 限制 HTTP 请求和回应的带宽")])]),s("li",[s("a",{attrs:{href:"#o-服务器的响应保存成文件"}},[a._v("-o 服务器的响应保存成文件")])]),s("li",[s("a",{attrs:{href:"#o-将url的最后部分当作文件名保存"}},[a._v("-O 将URL的最后部分当作文件名保存")])]),s("li",[s("a",{attrs:{href:"#s-不输出错误和进度信息"}},[a._v("-s 不输出错误和进度信息")])]),s("li",[s("a",{attrs:{href:"#s-指定只输出错误信息"}},[a._v("-S 指定只输出错误信息")])]),s("li",[s("a",{attrs:{href:"#u-设置服务器认证的用户名和密码"}},[a._v("-u 设置服务器认证的用户名和密码")])]),s("li",[s("a",{attrs:{href:"#v-输出通信的整个过程"}},[a._v("-v 输出通信的整个过程")])]),s("li",[s("a",{attrs:{href:"#x-指定-http-请求的代理"}},[a._v("-x 指定 HTTP 请求的代理")])]),s("li",[s("a",{attrs:{href:"#x-指定-http-请求的方法"}},[a._v("-X 指定 HTTP 请求的方法")])])])]),s("li",[s("a",{attrs:{href:"#get-post请求使用示例"}},[a._v("GET/POST请求使用示例")]),s("ul",[s("li",[s("a",{attrs:{href:"#curl-get-请求"}},[a._v("curl GET 请求")])]),s("li",[s("a",{attrs:{href:"#curl-post-请求"}},[a._v("curl POST 请求")])]),s("li",[s("a",{attrs:{href:"#基础应用"}},[a._v("基础应用")])]),s("li",[s("a",{attrs:{href:"#option-d-vs-f"}},[a._v("option：-d vs -F")])]),s("li",[s("a",{attrs:{href:"#curl-post-上传二进制文件"}},[a._v("curl POST 上传二进制文件")])])])])])]),s("p"),a._v(" "),s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[a._v("#")]),a._v(" 简介")]),a._v(" "),s("p",[a._v("curl 是常用的命令行工具，用来请求 Web 服务器。它的名字就是客户端（client）的 URL 工具的意思。")]),a._v(" "),s("p",[a._v("它的功能非常强大，命令行参数多达几十种。如果熟练的话，完全可以取代 Postman 这一类的图形界面工具。")]),a._v(" "),s("p",[a._v("如果在一个 curl 命令中不指定具体的方法，那么默认的就是使用 "),s("strong",[a._v("GET")]),a._v(" 方法。对于其它的方法，可以在 curl 命令中指定：")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("method")]),a._v(" "),s("th",[a._v("option")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("POST")]),a._v(" "),s("td",[a._v("-d或-F")])]),a._v(" "),s("tr",[s("td",[a._v("HEAD")]),a._v(" "),s("td",[a._v("-I")])]),a._v(" "),s("tr",[s("td",[a._v("PUT")]),a._v(" "),s("td",[a._v("-T")])])])]),a._v(" "),s("p",[s("strong",[a._v("语法：")])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("option"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("strong",[a._v("常见选项：")])]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("-A/--user-agent "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("string"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("             设置用户代理发送给服务器\n-b/--cookie "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("string/file"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("             cookie字符串或文件读取位置\n-c/--cookie-jar "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("file"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("               操作结束后把cookie写入到这个文件中\n-C/--continue-at "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("offset"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("            断点续转\n-D/--dump-header "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("file"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("              把header信息写入到该文件中\n-e/--referer                         来源网址\n-f/--fail                            连接失败时不显示http错误\n-o/--output                          把输出写到该文件中\n-O/--remote-name                     把输出写到该文件中，保留远程文件的文件名\n-r/--range "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("range"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("                   检索来自HTTP/1.1或FTP服务器字节范围\n-s/--silent                          静音模式。不输出任何东西\n-T/--upload-file "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("file"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("              上传文件\n-u/--user "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(":password"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("          设置服务器的用户和密码\n-w/--write-out "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("format"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("              什么输出完成后\n-x/--proxy "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("host"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(":port"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("             在给定的端口上使用HTTP代理\n-"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#/--progress-bar                    进度条显示当前的传送状态")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br")])]),s("p",[s("strong",[a._v("Curl支持协议:")])]),a._v(" "),s("p",[a._v("curl 支持的通信协议有：FTP、FTPS、HTTP、HTTPS、TFTP、SFTP、Gopher、SCP、Telnet、DICT、FILE、LDAP、LDAPS、IMAP、POP3、SMTP 和 RTSP。")]),a._v(" "),s("p",[a._v("curl 还支持 SSL 认证、HTTP POST、HTTP PUT、FTP 上传，HTTP form based upload、proxies、HTTP/2、cookies、用户名 + 密码认证（Basic, Plain、Digest、CRAM-MD5、NTLM、Negotiate and Kerberos)、file transfer resume、proxy tunneling。")]),a._v(" "),s("h2",{attrs:{id:"基本使用示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本使用示例"}},[a._v("#")]),a._v(" 基本使用示例")]),a._v(" "),s("h3",{attrs:{id:"基本用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本用法"}},[a._v("#")]),a._v(" 基本用法")]),a._v(" "),s("p",[a._v("命令：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" URL\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如：")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" http://www.baidu.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("执行后，"),s("code",[a._v("http://www.baidu.com")]),a._v(" 的 html 就会显示在屏幕上了\n由于安装 Linux 的时候很多时候是没有安装桌面的，也意味着没有浏览器，因此这个方法也经常用于测试一台服务器是否可以到达一个网站。")]),a._v(" "),s("h3",{attrs:{id:"保存访问的网页"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#保存访问的网页"}},[a._v("#")]),a._v(" 保存访问的网页")]),a._v(" "),s("h4",{attrs:{id:"使用-linux-的重定向功能保存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-linux-的重定向功能保存"}},[a._v("#")]),a._v(" 使用 Linux 的重定向功能保存")]),a._v(" "),s("p",[a._v("命令：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" URL "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" filename.html\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" http://www.baidu.com "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" baidu.html\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"可以使用-curl-的内置选项-o-小写-保存网页"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可以使用-curl-的内置选项-o-小写-保存网页"}},[a._v("#")]),a._v(" 可以使用 curl 的内置选项 "),s("code",[a._v("-o")]),a._v(" (小写) 保存网页")]),a._v(" "),s("p",[a._v("命令：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" filename.html  URL\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" baidu.html http://www.baidu.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"可以使用curl的内置选项-o-大写-保存网页中的文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可以使用curl的内置选项-o-大写-保存网页中的文件"}},[a._v("#")]),a._v(" 可以使用curl的内置选项 "),s("code",[a._v("-O")]),a._v(" (大写) 保存网页中的文件")]),a._v(" "),s("p",[a._v("命令：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 后面的 url 要具体到某个文件，不然抓不下来")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" filename.html  URL/文件名.后缀名\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("如：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" http://www.baidu.com/hello.sh\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"测试网页返回值-响应码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试网页返回值-响应码"}},[a._v("#")]),a._v(" 测试网页返回值(响应码)")]),a._v(" "),s("p",[a._v("命令：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" /dev/null "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-w")]),a._v(" %"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("http_code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" URL\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" /dev/null "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-w")]),a._v(" %"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("http_code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" www.baidu.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("在脚本中，这是很常见的测试网站是否正常的用法。")]),a._v(" "),s("h3",{attrs:{id:"指定-proxy-服务器以及其端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指定-proxy-服务器以及其端口"}},[a._v("#")]),a._v(" 指定 proxy 服务器以及其端口")]),a._v(" "),s("p",[a._v("很多时候上网需要用到代理服务器（比如是使用代理服务器上网或者因为使用 "),s("code",[a._v("curl")]),a._v(" 别人网站而被别人屏蔽 IP 地址的时候），幸运的是 "),s("code",[a._v("curl")]),a._v(" 通过使用内置 "),s("code",[a._v("option：-x")]),a._v(" 来支持设置代理")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-x")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.100:1080 http://www.baidu.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[a._v("#")]),a._v(" cookie")]),a._v(" "),s("p",[a._v("有些网站是使用"),s("code",[a._v("cookie")]),a._v("来记录"),s("code",[a._v("session")]),a._v("信息。对于chrome这样的浏览器，可以轻易处理 cookie 信息，但在 curl 中只要增加相关参数也是可以很容易的处理 cookie。")]),a._v(" "),s("blockquote",[s("p",[a._v("保存 http 的 response 里面的 cookie 信息。内置选项 "),s("code",[a._v("-c")]),a._v("（小写）")])]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" cookiec.txt  http://www.linux.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("执行后 cookie 信息就被存到了 "),s("code",[a._v("cookiec.txt")]),a._v(" 里面了。")]),a._v(" "),s("blockquote",[s("p",[a._v("保存 http 的 response 里面的 header 信息。内置 option: "),s("code",[a._v("-D")])])]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-D")]),a._v(" cookied.txt http://www.baidu.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("执行后 cookie 信息就被存到了 cookied.txt 里面了。")]),a._v(" "),s("p",[a._v("注意："),s("code",[a._v("-c")]),a._v("（小写）产生的 cookie 和 "),s("code",[a._v("-D")]),a._v(" 里面的 cookie 是不一样的。")]),a._v(" "),s("h4",{attrs:{id:"使用-cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-cookie"}},[a._v("#")]),a._v(" 使用 cookie")]),a._v(" "),s("p",[a._v("很多网站都是通过监视你的 cookie 信息来判断你是否按规矩访问他们的网站的，因此我们需要使用保存的 cookie 信息。内置 option: "),s("code",[a._v("-b")]),a._v("。")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" cookiec.txt http://www.linux.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"模仿浏览器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模仿浏览器"}},[a._v("#")]),a._v(" 模仿浏览器")]),a._v(" "),s("p",[a._v("有些网站需要使用特定的浏览器去访问他们，有些还需要使用某些特定的版本。curl 内置 option: "),s("code",[a._v("-A")]),a._v(" 可以让我们指定浏览器去访问网站")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.0)"')]),a._v(" http://www.linux.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这样服务器端就会认为是使用 IE8.0 去访问的。")]),a._v(" "),s("h3",{attrs:{id:"伪造-referer-盗链"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#伪造-referer-盗链"}},[a._v("#")]),a._v(" 伪造 referer（盗链）")]),a._v(" "),s("p",[a._v("很多服务器会检查 http 访问的 referer 从而来控制访问。比如：你是先访问首页，然后再访问首页中的邮箱页面，这里访问邮箱的 referer 地址就是访问首页成功后的页面地址，如果服务器发现对邮箱页面访问的 referer 地址不是首页的地址，就断定那是个盗连了。")]),a._v(" "),s("p",[a._v("curl 中内置 option："),s("code",[a._v("-e")]),a._v(" 可以让我们设定 referer。")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"www.linux.com"')]),a._v(" http://mail.linux.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这样就会让服务器其以为你是从 "),s("code",[a._v("www.linux.com")]),a._v(" 点击某个链接过来的。")]),a._v(" "),s("h3",{attrs:{id:"curl-下载文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#curl-下载文件"}},[a._v("#")]),a._v(" curl 下载文件")]),a._v(" "),s("h4",{attrs:{id:"利用-curl-下载文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#利用-curl-下载文件"}},[a._v("#")]),a._v(" 利用 curl 下载文件")]),a._v(" "),s("p",[a._v("使用内置 option："),s("code",[a._v("-o")]),a._v(" (小写)")]),a._v(" "),s("p",[a._v("命令：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v("  图片名称.jpg  URL "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 图片地址")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" bmw.jpg https://scpic.chinaz.net/files/pic/pic9/202205/apic40779.jpg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("使用内置 option："),s("code",[a._v("-O")]),a._v("（大写)")]),a._v(" "),s("p",[a._v("命令：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" URL\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" https://scpic.chinaz.net/files/pic/pic9/202205/apic40779.jpg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这样就会以服务器上的名称保存文件到本地。")]),a._v(" "),s("h4",{attrs:{id:"循环下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#循环下载"}},[a._v("#")]),a._v(" 循环下载")]),a._v(" "),s("p",[a._v("有时候下载图片可以能是前面的部分名称是一样的，就最后的尾椎名不一样。")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" http://www.linux.com/dodo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("-5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(".JPG\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这样就会把 dodo1，dodo2，dodo3，dodo4，dodo5 全部保存下来。")]),a._v(" "),s("h4",{attrs:{id:"下载重命名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载重命名"}},[a._v("#")]),a._v(" 下载重命名")]),a._v(" "),s("p",[a._v("旧方式：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" http://www.linux.com/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("hello,bb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("/dodo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("-5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(".JPG\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("由于下载的 hello 与 bb 中的文件名都是 dodo1，dodo2，dodo3，dodo4，dodo5。因此第二次下载的会把第一次下载的覆盖，这样就需要对文件进行重命名。")]),a._v(" "),s("p",[a._v("新方式：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#1_#2.JPG http://www.linux.com/{hello,bb}/dodo[1-5].JPG")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这样在 hello/dodo1.JPG 的文件下载下来就会变成 hello_dodo1.JPG，其他文件依此类推，从而有效的避免了文件被覆盖。")]),a._v(" "),s("h4",{attrs:{id:"分块下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分块下载"}},[a._v("#")]),a._v(" 分块下载")]),a._v(" "),s("p",[a._v("有时候下载的东西会比较大，这个时候我们可以分段下载。使用内置 option："),s("code",[a._v("-r")])]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("-100 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" dodo1_part1.JPG http://www.linux.com/dodo1.JPG\n \n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("100")]),a._v("-200 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" dodo1_part2.JPG http://www.linux.com/dodo1.JPG\n \n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("200")]),a._v("- "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" dodo1_part3.JPG http://www.linux.com/dodo1.JPG\n \n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" dodo1_part* "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" dodo1.JPG\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("p",[a._v("这样就可以查看 dodo1.JPG 的内容了")]),a._v(" "),s("h4",{attrs:{id:"通过-ftp-下载文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通过-ftp-下载文件"}},[a._v("#")]),a._v(" 通过 ftp 下载文件")]),a._v(" "),s("p",[a._v("curl 可以通过 ftp 下载文件，curl 提供两种从 ftp 中下载的语法。")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" 用户名:密码 ftp://www.linux.com/dodo1.JPG\n \n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" ftp://用户名:密码@www.linux.com/dodo1.JPG\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h4",{attrs:{id:"显示下载进度条"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#显示下载进度条"}},[a._v("#")]),a._v(" 显示下载进度条")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -O https://scpic.chinaz.net/files/pic/pic9/202205/apic40779.jpg")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"不会显示下载进度信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不会显示下载进度信息"}},[a._v("#")]),a._v(" 不会显示下载进度信息")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" https://scpic.chinaz.net/files/pic/pic9/202205/apic40779.jpg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"断点续传"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#断点续传"}},[a._v("#")]),a._v(" 断点续传")]),a._v(" "),s("p",[a._v("在 Windows 中，我们可以使用迅雷这样的软件进行断点续传。curl 可以通过内置 "),s("code",[a._v("option:-C")]),a._v(" 同样可以达到相同的效果。")]),a._v(" "),s("p",[a._v("如果在下载 "),s("code",[a._v("apic40779.jpg")]),a._v(" 的过程中突然掉线了，可以使用以下的方式续传。")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-C")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" https://scpic.chinaz.net/files/pic/pic9/202205/apic40779.jpg\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"上传文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上传文件"}},[a._v("#")]),a._v(" 上传文件")]),a._v(" "),s("p",[a._v("curl 不仅仅可以下载文件，还可以上传文件。通过内置 "),s("code",[a._v("option:-T")]),a._v(" 来实现")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-T")]),a._v(" dodo1.JPG "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" 用户名:密码 ftp://www.linux.com/img/\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这样就向 ftp 服务器上传了文件 dodo1.JPG")]),a._v(" "),s("h2",{attrs:{id:"常用选项示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用选项示例"}},[a._v("#")]),a._v(" 常用选项示例")]),a._v(" "),s("h3",{attrs:{id:"a-指定客户端的用户代理标头"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#a-指定客户端的用户代理标头"}},[a._v("#")]),a._v(" -A 指定客户端的用户代理标头")]),a._v(" "),s("p",[s("code",[a._v("-A")]),a._v(" 参数指定客户端的用户代理标头，即 "),s("code",[a._v("User-Agent")]),a._v("。curl 的默认用户代理字符串是 "),s("code",[a._v("curl/[version]")]),a._v("。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36'")]),a._v(" https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令将 "),s("code",[a._v("User-Agent")]),a._v(" 改成 Chrome 浏览器。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-A")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("''")]),a._v(" https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令会移除 "),s("code",[a._v("User-Agent")]),a._v(" 标头。")]),a._v(" "),s("p",[a._v("也可以通过 "),s("code",[a._v("-H")]),a._v(" 参数直接指定标头，更改 "),s("code",[a._v("User-Agent")]),a._v("。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'User-Agent: php/1.0'")]),a._v(" https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"b-向服务器发送-cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#b-向服务器发送-cookie"}},[a._v("#")]),a._v(" -b 向服务器发送 Cookie")]),a._v(" "),s("p",[s("code",[a._v("-b")]),a._v(" 参数用来向服务器发送 Cookie。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'foo=bar'")]),a._v(" https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令会生成一个标头 "),s("code",[a._v("Cookie: foo=bar")]),a._v("，向服务器发送一个名为 "),s("code",[a._v("foo")]),a._v("、值为 "),s("code",[a._v("bar")]),a._v(" 的 Cookie。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'foo1=bar'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'foo2=baz'")]),a._v(" https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令发送两个 Cookie。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-b")]),a._v(" cookies.txt https://www.google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令读取本地文件 "),s("code",[a._v("cookies.txt")]),a._v("，里面是服务器设置的 Cookie（参见 "),s("code",[a._v("-c")]),a._v(" 参数），将其发送到服务器。")]),a._v(" "),s("h3",{attrs:{id:"c-保存cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#c-保存cookie"}},[a._v("#")]),a._v(" -c 保存cookie")]),a._v(" "),s("p",[s("code",[a._v("-c")]),a._v(" 参数将服务器设置的 Cookie 写入一个文件。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" cookies.txt https://www.google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令将服务器的 HTTP 回应所设置 Cookie 写入文本文件 "),s("code",[a._v("cookies.txt")]),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"d-发送-post-请求的数据体"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#d-发送-post-请求的数据体"}},[a._v("#")]),a._v(" -d 发送 POST 请求的数据体")]),a._v(" "),s("p",[s("code",[a._v("-d")]),a._v(" 参数用于发送 POST 请求的数据体。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'login=emma＆password=123'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST https://google.com/login\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 或者")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'login=emma'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'password=123'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST  https://google.com/login\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("使用 "),s("code",[a._v("-d")]),a._v(" 参数以后，HTTP 请求会自动加上标头 "),s("code",[a._v("Content-Type : application/x-www-form-urlencoded")]),a._v("。并且会自动将请求转为 POST 方法，因此可以省略 "),s("code",[a._v("-X POST")]),a._v("。")]),a._v(" "),s("p",[s("code",[a._v("-d")]),a._v(" 参数可以读取本地文本文件的数据，向服务器发送。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'@data.txt'")]),a._v(" https://google.com/login\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令读取 "),s("code",[a._v("data.txt")]),a._v(" 文件的内容，作为数据体向服务器发送。")]),a._v(" "),s("h3",{attrs:{id:"data-urlencode-自动将发送的数据进行-url-编码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#data-urlencode-自动将发送的数据进行-url-编码"}},[a._v("#")]),a._v(" --data-urlencode 自动将发送的数据进行 URL 编码")]),a._v(" "),s("p",[s("code",[a._v("--data-urlencode")]),a._v(" 参数等同于 "),s("code",[a._v("-d")]),a._v("，发送 POST 请求的数据体，区别在于会自动将发送的数据进行 URL 编码。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" --data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'comment=hello world'")]),a._v(" https://google.com/login\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面代码中，发送的数据 "),s("code",[a._v("hello world")]),a._v(" 之间有一个空格，需要进行 URL 编码。")]),a._v(" "),s("h3",{attrs:{id:"e-设置-http-标头的请求的来源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#e-设置-http-标头的请求的来源"}},[a._v("#")]),a._v(" -e 设置 HTTP 标头的请求的来源")]),a._v(" "),s("p",[s("code",[a._v("-e")]),a._v(" 参数用来设置 HTTP 的标头 "),s("code",[a._v("Referer")]),a._v("，表示请求的来源。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'https://google.com?q=example'")]),a._v(" https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令将 "),s("code",[a._v("Referer")]),a._v(" 标头设为 "),s("code",[a._v("https://google.com?q=example")]),a._v("。")]),a._v(" "),s("p",[s("code",[a._v("-H")]),a._v(" 参数可以通过直接添加标头 "),s("code",[a._v("Referer")]),a._v("，达到同样效果。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Referer: https://google.com?q=example'")]),a._v(" https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"f上传二进制文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#f上传二进制文件"}},[a._v("#")]),a._v(" -F上传二进制文件")]),a._v(" "),s("p",[s("code",[a._v("-F")]),a._v(" 参数用来向服务器上传二进制文件。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'file=@photo.png'")]),a._v(" https://google.com/profile\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令会给 HTTP 请求加上标头 "),s("code",[a._v("Content-Type: multipart/form-data")]),a._v("，然后将文件 "),s("code",[a._v("photo.png")]),a._v(" 作为 "),s("code",[a._v("file")]),a._v(" 字段上传。")]),a._v(" "),s("p",[s("code",[a._v("-F")]),a._v(" 参数可以指定 MIME 类型。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'file=@photo.png;type=image/png'")]),a._v(" https://google.com/profile\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令指定 MIME 类型为 "),s("code",[a._v("image/png")]),a._v("，否则 curl 会把 MIME 类型设为 "),s("code",[a._v("application/octet-stream")]),a._v("。")]),a._v(" "),s("p",[s("code",[a._v("-F")]),a._v(" 参数也可以指定文件名。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'file=@photo.png;filename=me.png'")]),a._v(" https://google.com/profile\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令中，原始文件名为 "),s("code",[a._v("photo.png")]),a._v("，但是服务器接收到的文件名为 "),s("code",[a._v("me.png")]),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"g-构造-url-的查询字符串"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#g-构造-url-的查询字符串"}},[a._v("#")]),a._v(" -G 构造 URL 的查询字符串")]),a._v(" "),s("p",[s("code",[a._v("-G")]),a._v(" 参数用来构造 URL 的查询字符串。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-G")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'q=kitties'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'count=20'")]),a._v(" https://google.com/search\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令会发出一个 GET 请求，实际请求的 URL 为 "),s("code",[a._v("https://google.com/search?q=kitties&count=20")]),a._v("。如果省略 "),s("code",[a._v("--G")]),a._v("，会发出一个 POST 请求。")]),a._v(" "),s("p",[a._v("如果数据需要 URL 编码，可以结合 "),s("code",[a._v("--data--urlencode")]),a._v(" 参数。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-G")]),a._v(" --data-urlencode "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'comment=hello world'")]),a._v(" https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"h-指定http-请求的标头"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#h-指定http-请求的标头"}},[a._v("#")]),a._v(" -H 指定HTTP 请求的标头")]),a._v(" "),s("p",[s("code",[a._v("-H")]),a._v(" 参数添加 HTTP 请求的标头。")]),a._v(" "),s("p",[a._v("下面命令添加 HTTP 标头 "),s("code",[a._v("Accept-Language: en-US")]),a._v("。")]),a._v(" "),s("blockquote",[s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Accept-Language: en-US'")]),a._v(" https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("p",[a._v("下面命令添加两个 HTTP 标头。")]),a._v(" "),s("blockquote",[s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Accept-Language: en-US'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Secret-Message: xyzzy'")]),a._v(" https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("p",[a._v("下面命令添加 HTTP 请求的标头是 "),s("code",[a._v("Content-Type: application/json")]),a._v("，然后用 "),s("code",[a._v("-d")]),a._v(" 参数发送 JSON 数据。")]),a._v(" "),s("blockquote",[s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'{"login": "emma", "pass": "123"}\'')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type: application/json'")]),a._v(" https://google.com/login\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("p",[a._v("设置 User-Agent 绕过服务器访问代理检测，可用于爬虫欺骗")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -H"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:69.0) Gecko/20100101 Firefox/69.0'")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("设置 Host 绕过主机头检测，替代更改 host 文件的繁琐操作")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -H"),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Host: xxxx'")]),a._v(" IP\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"i-显示response头信息-并打印源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#i-显示response头信息-并打印源码"}},[a._v("#")]),a._v(" -i 显示Response头信息，并打印源码")]),a._v(" "),s("p",[s("code",[a._v("-i")]),a._v(" 参数打印出服务器回应的 HTTP 标头。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令收到服务器回应后，先输出服务器回应的标头，然后空一行，再输出网页的源码。")]),a._v(" "),s("h3",{attrs:{id:"i-显示response头信息-不打印源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#i-显示response头信息-不打印源码"}},[a._v("#")]),a._v(" -I 显示Response头信息，不打印源码")]),a._v(" "),s("p",[s("code",[a._v("-I")]),a._v(" 参数向服务器发出 HEAD 请求，然会将服务器返回的 HTTP 标头打印出来。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-I")]),a._v(" https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令输出服务器对 HEAD 请求的回应。")]),a._v(" "),s("p",[s("code",[a._v("--head")]),a._v(" 参数等同于 "),s("code",[a._v("-I")]),a._v("。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--head")]),a._v(" https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"k-跳过-ssl-检测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#k-跳过-ssl-检测"}},[a._v("#")]),a._v(" -k 跳过 SSL 检测")]),a._v(" "),s("p",[s("code",[a._v("-k")]),a._v(" 参数指定跳过 SSL 检测。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-k")]),a._v(" https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令不会检查服务器的 SSL 证书是否正确。")]),a._v(" "),s("h3",{attrs:{id:"l-指定-http-请求跟随服务器的重定向"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#l-指定-http-请求跟随服务器的重定向"}},[a._v("#")]),a._v(" -L 指定 HTTP 请求跟随服务器的重定向")]),a._v(" "),s("p",[s("code",[a._v("-L")]),a._v(" 参数会让 HTTP 请求跟随服务器的重定向。curl 默认不跟随重定向。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-L")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'tweet=hi'")]),a._v(" https://api.twitter.com/tweet\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"limit-rate-限制-http-请求和回应的带宽"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#limit-rate-限制-http-请求和回应的带宽"}},[a._v("#")]),a._v(" --limit-rate 限制 HTTP 请求和回应的带宽")]),a._v(" "),s("p",[s("code",[a._v("--limit-rate")]),a._v(" 用来限制 HTTP 请求和回应的带宽，模拟慢网速的环境。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" --limit-rate 200k https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令将带宽限制在每秒 200K 字节。")]),a._v(" "),s("h3",{attrs:{id:"o-服务器的响应保存成文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#o-服务器的响应保存成文件"}},[a._v("#")]),a._v(" -o 服务器的响应保存成文件")]),a._v(" "),s("p",[s("code",[a._v("-o")]),a._v(" 参数将服务器的回应保存成文件，等同于 "),s("code",[a._v("wget")]),a._v(" 命令。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" example.html https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令将 "),s("code",[a._v("www.example.com")]),a._v(" 保存成 "),s("code",[a._v("example.html")]),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"o-将url的最后部分当作文件名保存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#o-将url的最后部分当作文件名保存"}},[a._v("#")]),a._v(" -O 将URL的最后部分当作文件名保存")]),a._v(" "),s("p",[s("code",[a._v("-O")]),a._v(" 参数将服务器回应保存成文件，并将 URL 的最后部分当作文件名。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-O")]),a._v(" https://www.example.com/foo/bar.html\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令将服务器回应保存成文件，文件名为 "),s("code",[a._v("bar.html")]),a._v("。")]),a._v(" "),s("h3",{attrs:{id:"s-不输出错误和进度信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#s-不输出错误和进度信息"}},[a._v("#")]),a._v(" -s 不输出错误和进度信息")]),a._v(" "),s("p",[s("code",[a._v("-s")]),a._v(" 参数将不输出错误和进度信息。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令一旦发生错误，不会显示错误信息。不发生错误的话，会正常显示运行结果。")]),a._v(" "),s("p",[a._v("如果想让 curl 不产生任何输出，可以使用下面的命令。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" /dev/null https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"s-指定只输出错误信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#s-指定只输出错误信息"}},[a._v("#")]),a._v(" -S 指定只输出错误信息")]),a._v(" "),s("p",[s("code",[a._v("-S")]),a._v(" 参数指定只输出错误信息，通常与 "),s("code",[a._v("-s")]),a._v(" 一起使用。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" /dev/null https://google.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令没有任何输出，除非发生错误。")]),a._v(" "),s("h3",{attrs:{id:"u-设置服务器认证的用户名和密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#u-设置服务器认证的用户名和密码"}},[a._v("#")]),a._v(" -u 设置服务器认证的用户名和密码")]),a._v(" "),s("p",[s("code",[a._v("-u")]),a._v(" 参数用来设置服务器认证的用户名和密码。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'bob:12345'")]),a._v(" https://google.com/login\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令设置用户名为 "),s("code",[a._v("bob")]),a._v("，密码为 "),s("code",[a._v("12345")]),a._v("，然后将其转为 HTTP 标头 "),s("code",[a._v("Authorization: Basic Ym9iOjEyMzQ1")]),a._v("。")]),a._v(" "),s("p",[a._v("curl 能够识别 URL 里面的用户名和密码。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" https://bob:12345@google.com/login\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令能够识别 URL 里面的用户名和密码，将其转为上个例子里面的 HTTP 标头。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-u")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'bob'")]),a._v(" https://google.com/login\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令只设置了用户名，执行后，curl 会提示用户输入密码。")]),a._v(" "),s("h3",{attrs:{id:"v-输出通信的整个过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-输出通信的整个过程"}},[a._v("#")]),a._v(" -v 输出通信的整个过程")]),a._v(" "),s("p",[s("code",[a._v("-v")]),a._v(" 参数输出通信的整个过程，用于调试。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[s("code",[a._v("--trace")]),a._v(" 参数也可以用于调试，还会输出原始的二进制数据。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--trace")]),a._v(" - https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"x-指定-http-请求的代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#x-指定-http-请求的代理"}},[a._v("#")]),a._v(" -x 指定 HTTP 请求的代理")]),a._v(" "),s("p",[s("code",[a._v("-x")]),a._v(" 参数指定 HTTP 请求的代理。")]),a._v(" "),s("p",[a._v("下面命令指定 HTTP 请求通过 "),s("code",[a._v("myproxy.com:8080")]),a._v(" 的 socks5 代理发出。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-x")]),a._v(" socks5://james:cats@myproxy.com:8080 https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如果没有指定代理协议，默认为 HTTP。下面命令中，请求的代理使用 HTTP 协议。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-x")]),a._v(" james:cats@myproxy.com:8080 https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("-x指定代理，可用于IP被拉黑时绕过IP检测")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-x")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1:8080 http://www.baidu.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"x-指定-http-请求的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#x-指定-http-请求的方法"}},[a._v("#")]),a._v(" -X 指定 HTTP 请求的方法")]),a._v(" "),s("p",[s("code",[a._v("-X")]),a._v(" 参数指定 HTTP 请求的方法。")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST https://www.example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("上面命令对 "),s("code",[a._v("https://www.example.com")]),a._v(" 发出 POST 请求。")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("参数")]),a._v(" "),s("th",[a._v("说明")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("-a/--append")]),a._v(" "),s("td",[a._v("上传文件时，附加到目标文件")])]),a._v(" "),s("tr",[s("td",[a._v("--anyauth")]),a._v(" "),s("td",[a._v("可以使用「任何」身份验证方法")])]),a._v(" "),s("tr",[s("td",[a._v("--basic")]),a._v(" "),s("td",[a._v("使用HTTP基本验证")])]),a._v(" "),s("tr",[s("td",[a._v("-B/--use-ascii")]),a._v(" "),s("td",[a._v("使用ASCII文本传输")])]),a._v(" "),s("tr",[s("td",[a._v("-d/--data")]),a._v(" "),s("td",[a._v("HTTP POST方式传送数据")])]),a._v(" "),s("tr",[s("td",[a._v("--data-ascii")]),a._v(" "),s("td",[a._v("以ascii的方式post数据")])]),a._v(" "),s("tr",[s("td",[a._v("--data-binary")]),a._v(" "),s("td",[a._v("以二进制的方式post数据")])]),a._v(" "),s("tr",[s("td",[a._v("--negotiate")]),a._v(" "),s("td",[a._v("使用HTTP身份验证")])]),a._v(" "),s("tr",[s("td",[a._v("--digest")]),a._v(" "),s("td",[a._v("使用数字身份验证")])]),a._v(" "),s("tr",[s("td",[a._v("--disable-eprt")]),a._v(" "),s("td",[a._v("禁止使用EPRT或LPRT")])]),a._v(" "),s("tr",[s("td",[a._v("--disable-epsv")]),a._v(" "),s("td",[a._v("禁止使用EPSV")])]),a._v(" "),s("tr",[s("td",[a._v("--egd-file")]),a._v(" "),s("td",[a._v("为随机数据(SSL)设置EGD socket路径")])]),a._v(" "),s("tr",[s("td",[a._v("--tcp-nodelay")]),a._v(" "),s("td",[a._v("使用TCP_NODELAY选项")])]),a._v(" "),s("tr",[s("td",[a._v("-E/--cert <cert[:passwd]>")]),a._v(" "),s("td",[a._v("客户端证书文件和密码 (SSL)")])]),a._v(" "),s("tr",[s("td",[a._v("--cert-type")]),a._v(" "),s("td",[a._v("证书文件类型 (DER/PEM/ENG) (SSL)")])]),a._v(" "),s("tr",[s("td",[a._v("--key")]),a._v(" "),s("td",[a._v("私钥文件名 (SSL)")])]),a._v(" "),s("tr",[s("td",[a._v("--key-type")]),a._v(" "),s("td",[a._v("私钥文件类型 (DER/PEM/ENG) (SSL)")])]),a._v(" "),s("tr",[s("td",[a._v("--pass")]),a._v(" "),s("td",[a._v("私钥密码 (SSL)")])]),a._v(" "),s("tr",[s("td",[a._v("--engine")]),a._v(" "),s("td",[a._v('加密引擎使用 (SSL). "--engine list" for list')])]),a._v(" "),s("tr",[s("td",[a._v("--cacert")]),a._v(" "),s("td",[a._v("CA证书 (SSL)")])]),a._v(" "),s("tr",[s("td",[a._v("--capath")]),a._v(" "),s("td",[a._v("CA目 (made using c_rehash) to verify peer against (SSL)")])]),a._v(" "),s("tr",[s("td",[a._v("--ciphers")]),a._v(" "),s("td",[a._v("SSL密码")])]),a._v(" "),s("tr",[s("td",[a._v("--compressed")]),a._v(" "),s("td",[a._v("要求返回是压缩的形势 (using deflate or gzip)")])]),a._v(" "),s("tr",[s("td",[a._v("--connect-timeout")]),a._v(" "),s("td",[a._v("设置最大请求时间")])]),a._v(" "),s("tr",[s("td",[a._v("--create-dirs")]),a._v(" "),s("td",[a._v("建立本地目录的目录层次结构")])]),a._v(" "),s("tr",[s("td",[a._v("--crlf")]),a._v(" "),s("td",[a._v("上传是把LF转变成CRLF")])]),a._v(" "),s("tr",[s("td",[a._v("--ftp-create-dirs")]),a._v(" "),s("td",[a._v("如果远程目录不存在，创建远程目录")])]),a._v(" "),s("tr",[s("td",[a._v("--ftp-method [multicwd/nocwd/singlecwd]")]),a._v(" "),s("td",[a._v("控制CWD的使用")])]),a._v(" "),s("tr",[s("td",[a._v("--ftp-pasv")]),a._v(" "),s("td",[a._v("使用 PASV/EPSV 代替端口")])]),a._v(" "),s("tr",[s("td",[a._v("--ftp-skip-pasv-ip")]),a._v(" "),s("td",[a._v("使用PASV的时候,忽略该IP地址")])]),a._v(" "),s("tr",[s("td",[a._v("--ftp-ssl")]),a._v(" "),s("td",[a._v("尝试用 SSL/TLS 来进行ftp数据传输")])]),a._v(" "),s("tr",[s("td",[a._v("--ftp-ssl-reqd")]),a._v(" "),s("td",[a._v("要求用 SSL/TLS 来进行ftp数据传输")])]),a._v(" "),s("tr",[s("td",[a._v("-F/--form <name=content>")]),a._v(" "),s("td",[a._v("模拟http表单提交数据")])]),a._v(" "),s("tr",[s("td",[a._v("-form-string <name=string>")]),a._v(" "),s("td",[a._v("模拟http表单提交数据")])]),a._v(" "),s("tr",[s("td",[a._v("-g/--globoff")]),a._v(" "),s("td",[a._v("禁用网址序列和范围使用{}和[]")])]),a._v(" "),s("tr",[s("td",[a._v("-G/--get")]),a._v(" "),s("td",[a._v("以get的方式来发送数据")])]),a._v(" "),s("tr",[s("td",[a._v("-h/--help")]),a._v(" "),s("td",[a._v("帮助")])]),a._v(" "),s("tr",[s("td",[a._v("-H/--header")]),a._v(" "),s("td",[a._v("自定义头信息传递给服务器")])]),a._v(" "),s("tr",[s("td",[a._v("--ignore-content-length")]),a._v(" "),s("td",[a._v("忽略的HTTP头信息的长度")])]),a._v(" "),s("tr",[s("td",[a._v("-i/--include")]),a._v(" "),s("td",[a._v("输出时包括protocol头信息")])]),a._v(" "),s("tr",[s("td",[a._v("-I/--head")]),a._v(" "),s("td",[a._v("只显示文档信息")])]),a._v(" "),s("tr",[s("td",[a._v("-j/--junk-session-cookies")]),a._v(" "),s("td",[a._v("读取文件时忽略session cookie")])]),a._v(" "),s("tr",[s("td",[a._v("--interface")]),a._v(" "),s("td",[a._v("使用指定网络接口/地址")])]),a._v(" "),s("tr",[s("td",[a._v("--krb4")]),a._v(" "),s("td",[a._v("使用指定安全级别的krb4")])]),a._v(" "),s("tr",[s("td",[a._v("-k/--insecure")]),a._v(" "),s("td",[a._v("允许不使用证书到SSL站点")])]),a._v(" "),s("tr",[s("td",[a._v("-K/--config")]),a._v(" "),s("td",[a._v("指定的配置文件读取")])]),a._v(" "),s("tr",[s("td",[a._v("-l/--list-only")]),a._v(" "),s("td",[a._v("列出ftp目录下的文件名称")])]),a._v(" "),s("tr",[s("td",[a._v("--limit-rate")]),a._v(" "),s("td",[a._v("设置传输速度")])]),a._v(" "),s("tr",[s("td",[a._v("--local-port")]),a._v(" "),s("td",[a._v("强制使用本地端口号")])]),a._v(" "),s("tr",[s("td",[a._v("-m/--max-time")]),a._v(" "),s("td",[a._v("设置最大传输时间")])]),a._v(" "),s("tr",[s("td",[a._v("--max-redirs")]),a._v(" "),s("td",[a._v("设置最大读取的目录数")])]),a._v(" "),s("tr",[s("td",[a._v("--max-filesize")]),a._v(" "),s("td",[a._v("设置最大下载的文件总量")])]),a._v(" "),s("tr",[s("td",[a._v("-M/--manual")]),a._v(" "),s("td",[a._v("显示全手动")])]),a._v(" "),s("tr",[s("td",[a._v("-n/--netrc")]),a._v(" "),s("td",[a._v("从netrc文件中读取用户名和密码")])]),a._v(" "),s("tr",[s("td",[a._v("--netrc-optional")]),a._v(" "),s("td",[a._v("使用 .netrc 或者 URL来覆盖-n")])]),a._v(" "),s("tr",[s("td",[a._v("--ntlm")]),a._v(" "),s("td",[a._v("使用 HTTP NTLM 身份验证")])]),a._v(" "),s("tr",[s("td",[a._v("-N/--no-buffer")]),a._v(" "),s("td",[a._v("禁用缓冲输出")])]),a._v(" "),s("tr",[s("td",[a._v("-p/--proxytunnel")]),a._v(" "),s("td",[a._v("使用HTTP代理")])]),a._v(" "),s("tr",[s("td",[a._v("--proxy-anyauth")]),a._v(" "),s("td",[a._v("选择任一代理身份验证方法")])]),a._v(" "),s("tr",[s("td",[a._v("--proxy-basic")]),a._v(" "),s("td",[a._v("在代理上使用基本身份验证")])]),a._v(" "),s("tr",[s("td",[a._v("--proxy-digest")]),a._v(" "),s("td",[a._v("在代理上使用数字身份验证")])]),a._v(" "),s("tr",[s("td",[a._v("--proxy-ntlm")]),a._v(" "),s("td",[a._v("在代理上使用ntlm身份验证")])]),a._v(" "),s("tr",[s("td",[a._v("-P/--ftp-port")]),a._v(" "),s("td",[a._v("使用端口地址，而不是使用PASV")])]),a._v(" "),s("tr",[s("td",[a._v("-Q/--quote")]),a._v(" "),s("td",[a._v("文件传输前，发送命令到服务器")])]),a._v(" "),s("tr",[s("td",[a._v("--range-file")]),a._v(" "),s("td",[a._v("读取（SSL）的随机文件")])]),a._v(" "),s("tr",[s("td",[a._v("-R/--remote-time")]),a._v(" "),s("td",[a._v("在本地生成文件时，保留远程文件时间")])]),a._v(" "),s("tr",[s("td",[a._v("--retry")]),a._v(" "),s("td",[a._v("传输出现问题时，重试的次数")])]),a._v(" "),s("tr",[s("td",[a._v("--retry-delay")]),a._v(" "),s("td",[a._v("传输出现问题时，设置重试间隔时间")])]),a._v(" "),s("tr",[s("td",[a._v("--retry-max-time")]),a._v(" "),s("td",[a._v("传输出现问题时，设置最大重试时间")])]),a._v(" "),s("tr",[s("td",[a._v("-S/--show-error")]),a._v(" "),s("td",[a._v("显示错误")])]),a._v(" "),s("tr",[s("td",[a._v("--socks4 <host[:port]>")]),a._v(" "),s("td",[a._v("用socks4代理给定主机和端口")])]),a._v(" "),s("tr",[s("td",[a._v("--socks5 <host[:port]>")]),a._v(" "),s("td",[a._v("用socks5代理给定主机和端口")])]),a._v(" "),s("tr",[s("td",[a._v("-t/--telnet-option <OPT=val>")]),a._v(" "),s("td",[a._v("Telnet选项设置")])]),a._v(" "),s("tr",[s("td",[a._v("--trace")]),a._v(" "),s("td",[a._v("对指定文件进行debug")])]),a._v(" "),s("tr",[s("td",[a._v("--trace-ascii")]),a._v(" "),s("td",[a._v("Like --跟踪但没有hex输出")])]),a._v(" "),s("tr",[s("td",[a._v("--trace-time")]),a._v(" "),s("td",[a._v("跟踪/详细输出时，添加时间戳")])]),a._v(" "),s("tr",[s("td",[a._v("--url")]),a._v(" "),s("td",[a._v("Spet URL to work with")])]),a._v(" "),s("tr",[s("td",[a._v("-U/--proxy-user <user[:password]>")]),a._v(" "),s("td",[a._v("设置代理用户名和密码")])]),a._v(" "),s("tr",[s("td",[a._v("-V/--version")]),a._v(" "),s("td",[a._v("显示版本信息")])]),a._v(" "),s("tr",[s("td",[a._v("-X/--request")]),a._v(" "),s("td",[a._v("指定什么命令")])]),a._v(" "),s("tr",[s("td",[a._v("-y/--speed-time")]),a._v(" "),s("td",[a._v("放弃限速所要的时间。默认为30")])]),a._v(" "),s("tr",[s("td",[a._v("-Y/--speed-limit")]),a._v(" "),s("td",[a._v("停止传输速度的限制，速度时间'秒")])]),a._v(" "),s("tr",[s("td",[a._v("-z/--time-cond")]),a._v(" "),s("td",[a._v("传送时间设置")])]),a._v(" "),s("tr",[s("td",[a._v("-0/--http1.0")]),a._v(" "),s("td",[a._v("使用HTTP 1.0")])]),a._v(" "),s("tr",[s("td",[a._v("-1/--tlsv1")]),a._v(" "),s("td",[a._v("使用TLSv1（SSL）")])]),a._v(" "),s("tr",[s("td",[a._v("-2/--sslv2")]),a._v(" "),s("td",[a._v("使用SSLv2的（SSL）")])]),a._v(" "),s("tr",[s("td",[a._v("-3/--sslv3")]),a._v(" "),s("td",[a._v("使用的SSLv3（SSL）")])]),a._v(" "),s("tr",[s("td",[a._v("--3p-quote")]),a._v(" "),s("td",[a._v("like -Q for the source URL for 3rd party transfer")])]),a._v(" "),s("tr",[s("td",[a._v("--3p-url")]),a._v(" "),s("td",[a._v("使用url，进行第三方传送")])]),a._v(" "),s("tr",[s("td",[a._v("--3p-user")]),a._v(" "),s("td",[a._v("使用用户名和密码，进行第三方传送")])]),a._v(" "),s("tr",[s("td",[a._v("-4/--ipv4")]),a._v(" "),s("td",[a._v("使用IP4")])]),a._v(" "),s("tr",[s("td",[a._v("-6/--ipv6")]),a._v(" "),s("td",[a._v("使用IP6")])])])]),a._v(" "),s("h2",{attrs:{id:"get-post请求使用示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-post请求使用示例"}},[a._v("#")]),a._v(" GET/POST请求使用示例")]),a._v(" "),s("p",[a._v("一般情况下，我们调试数据接口，都会使用一个 "),s("code",[a._v("postman")]),a._v(" 的工具，但是有的场景是从服务器 1 请求服务器 2，而我们自己主机不能直接访问服务器 2，这时可以在服务器 1 命令行使用 "),s("code",[a._v("curl")]),a._v(" 命令测试接口。")]),a._v(" "),s("h3",{attrs:{id:"curl-get-请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#curl-get-请求"}},[a._v("#")]),a._v(" curl GET 请求")]),a._v(" "),s("p",[a._v("不加参数时，默认发出 GET 请求，查看页面源码")]),a._v(" "),s("p",[a._v("命令：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# protocol:请求协议、address:ip、port:端口、url:地址、args:参数")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" protocol://address:port/url?args\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("如：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" http://127.0.0.1:8080/demo/curl-test/get\n \n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" http://127.0.0.1:8080/login?username"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("admin"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("passwd")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12345678")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 带参数请求，参数用&连接")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[a._v("我们就可以请求到我们的数据了。")]),a._v(" "),s("p",[a._v("如果想看到详细的请求信息，我们可以加上 "),s("code",[a._v("-v")]),a._v(" 参数。")]),a._v(" "),s("h3",{attrs:{id:"curl-post-请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#curl-post-请求"}},[a._v("#")]),a._v(" curl POST 请求")]),a._v(" "),s("h3",{attrs:{id:"基础应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础应用"}},[a._v("#")]),a._v(" 基础应用")]),a._v(" "),s("p",[a._v("我们可以用 "),s("code",[a._v("-X POST")]),a._v(" 来申明我们的请求方法，用 "),s("code",[a._v("-d")]),a._v(" 参数，来传送我们的参数。")]),a._v(" "),s("p",[a._v("所以，我们可以用 "),s("code",[a._v("-X PUT")]),a._v(" 和 "),s("code",[a._v("-X DELETE")]),a._v(" 来指定另外的请求方法。")]),a._v(" "),s("p",[a._v("一般我们的接口都是 "),s("code",[a._v("json")]),a._v(" 格式的，我们可以用 "),s("code",[a._v("-H")]),a._v(" 参数来申明请求的 "),s("code",[a._v("header")]),a._v("。")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" http://192.168.56.103:7788/demo/curl-test/post "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Content-Type:application/json"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'{"name": "leizi","age": 25,"address": "杭州"}\'')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如上，这就是一个普通的 post 请求。")]),a._v(" "),s("p",[s("strong",[a._v("注意点")])]),a._v(" "),s("blockquote",[s("p",[a._v("传递 JSON 格式的入参")])]),a._v(" "),s("p",[a._v("-d 可以指定入参为 JSON 格式，此时需要 -H 指定"),s("code",[a._v("Content-type=application/json")]),a._v(" 的请求头。")]),a._v(" "),s("p",[a._v("JSON 格式入参：使用单引号 "),s("code",[a._v("''")]),a._v(" 括起 JSON 格式的入参，单引号中的内容是可以 json 解析的内容。")]),a._v(" "),s("blockquote",[s("p",[a._v("Content-Type")])]),a._v(" "),s("p",[a._v("当使用 "),s("strong",[a._v("POST")]),a._v(" 方法提交数据时，对于提交的数据主要有如下四种形式：")]),a._v(" "),s("ul",[s("li",[s("strong",[a._v("application/x-www-form-urlencoded")]),a._v("：默认的形式，即 "),s("strong",[a._v("key1=value1&key2=value2")]),a._v(" 的形式；")]),a._v(" "),s("li",[s("strong",[a._v("multipart/form-data")]),a._v("：使用表单上传文件时使用这个形式；")]),a._v(" "),s("li",[s("strong",[a._v("application/json")]),a._v("：提交 JSON 格式的数据；")]),a._v(" "),s("li",[s("strong",[a._v("text/xml")]),a._v("：提交XML格式的数据。")])]),a._v(" "),s("p",[s("strong",[a._v("Content-Type")]),a._v(" 是一个 Header，如果不指定的话，那么默认就是使用 "),s("code",[a._v("application/x-www-form-urlencoded")]),a._v(" 形式传输数据，当需要使用别的形式进行数据传输的话，那么就需要指定这个 Header。")]),a._v(" "),s("h4",{attrs:{id:"多个请求头-option-h"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多个请求头-option-h"}},[a._v("#")]),a._v(" 多个请求头 option: -H")]),a._v(" "),s("p",[a._v("我们可以用 "),s("code",[a._v("-H")]),a._v(" 来设置更多的 header 比如，用户的 token 之类的。")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" http://192.168.56.103:7788/demo/curl-test/post "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" POST "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Content-Type:application/json"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-H")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"token:6666"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'{"name": "leizi","age": 25,"address": "杭州"}\'')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("同样，我们可以用 -v 来查看详情。")]),a._v(" "),s("h4",{attrs:{id:"转化成一个get"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#转化成一个get"}},[a._v("#")]),a._v(" 转化成一个GET")]),a._v(" "),s("p",[a._v("使用 "),s("strong",[a._v("-G")]),a._v(" 或 "),s("strong",[a._v("-get")]),a._v(" 选项，可以把一个 POST 请求转化成一个GET请求。如果有 "),s("strong",[a._v("-d")]),a._v(" 选项指定的参数，那么 curl 就会把 "),s("strong",[a._v("-d")]),a._v(" 后面的数据添加到URL的后面，用 "),s("strong",[a._v("?")]),a._v(" 连接。比如：")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"key1=value1"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-G")]),a._v(" http://example.com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("得到的请求 URL 就是：")]),a._v(" "),s("div",{staticClass:"language-ruby line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ruby"}},[s("code",[a._v("http"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("?")]),a._v("key1"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("value1\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"multipart-formposts-表单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#multipart-formposts-表单"}},[a._v("#")]),a._v(" multipart formposts 表单")]),a._v(" "),s("p",[a._v("如果一 个HTTP POST 具有如下形式的表单：")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("form")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("action")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("submit.cgi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("method")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("post"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("enctype")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("multipart/form-data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    Name: "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("input")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("person"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("br")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    File: "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("input")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("secret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("br")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("input")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("submit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("Submit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("form")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("p",[a._v("用户可以在 "),s("strong",[a._v("Name")]),a._v(" 中填写名字，在 "),s("strong",[a._v("File")]),a._v(" 中选择一个文件，然后单击 "),s("strong",[a._v("Submit")]),a._v(" 按钮提交数据。")]),a._v(" "),s("p",[a._v("为了可以在 curl 中模拟这个请求，我们可以使用 "),s("strong",[a._v("-F")]),a._v(" 或 "),s("strong",[a._v("–form")]),a._v(" 选项来指定数据：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("person")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("annonymous "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("secret")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("@filename http://example.com/submit.cgi\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("在上面的表单中，"),s("strong",[a._v("action")]),a._v(" 指定了这个请求发送到哪里；"),s("strong",[a._v("method")]),a._v(" 指定这是一个 "),s("strong",[a._v("POST")]),a._v(" 请求；而 "),s("strong",[a._v("enctype")]),a._v(" 指定了这是一个 "),s("strong",[a._v("multipart formpost")]),a._v("。")]),a._v(" "),s("p",[a._v("当执行上面的 curl 命令后，curl 会产生如下的请求头：")]),a._v(" "),s("div",{staticClass:"language-makefile line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-makefile"}},[s("code",[a._v("POST /submit.cgi HTTP/1.1\n"),s("span",{pre:!0,attrs:{class:"token target symbol"}},[a._v("Host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" example.com\n"),s("span",{pre:!0,attrs:{class:"token target symbol"}},[a._v("User-Agent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" curl/7.46.0\n"),s("span",{pre:!0,attrs:{class:"token target symbol"}},[a._v("Accept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" */*\n"),s("span",{pre:!0,attrs:{class:"token target symbol"}},[a._v("Content-Length")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 313\n"),s("span",{pre:!0,attrs:{class:"token target symbol"}},[a._v("Content-Type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" multipart/form-data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" boundary"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("------------------------d74496d66958873e\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("p",[a._v("其中 "),s("strong",[a._v("Content-Type")]),a._v(" 是和 "),s("strong",[a._v("enctype")]),a._v(" 一致的。")]),a._v(" "),s("p",[a._v("当使用 "),s("strong",[a._v("-F")]),a._v(" 选项时，默认的 "),s("strong",[a._v("Content-Type")]),a._v(" 就是 "),s("strong",[a._v("multipart/form-data")]),a._v("，不过，我们也可以使用 -H 进行指定：")]),a._v(" "),s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("curl "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("F "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'name=Dan'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("H "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type: multipart/magic'")]),a._v(" https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"option-d-vs-f"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#option-d-vs-f"}},[a._v("#")]),a._v(" option：-d vs -F")]),a._v(" "),s("p",[a._v("在前面我们介绍了使用 "),s("strong",[a._v("-d")]),a._v(" 构造一个基本的 POST 请求，和 "),s("strong",[a._v("-F")]),a._v(" 构造一个 "),s("code",[a._v("multipart formpost")]),a._v(" 请求。那么这两个选项有啥区别以及什么时候使用呢？")]),a._v(" "),s("p",[a._v("这两个选项都是把指定的数据发送到服务器上，区别在于数据传递的格式。大多数时候，接收端来指定希望客户端发送数据的格式，客户端不能随意自己指定格式。")]),a._v(" "),s("p",[a._v("当使用 HTML 表单时，会使用标签指定一个表单，这会让浏览器使用 POST 方法。如果标签中含有 "),s("strong",[a._v("enctype=multipart/form-data")]),a._v("，这意味着使用 "),s("code",[a._v("multipart formpost")]),a._v(" 方式，在curl中就是使用 "),s("strong",[a._v("-F")]),a._v(" 选项。一个典型的场景就是表单中含有 "),s("code",[a._v('<input type="file">')]),a._v(" 标签。")]),a._v(" "),s("p",[s("code",[a._v("POST")]),a._v(" 方法不一定非要在HTML中，在好多的service、API中，也可以使用 "),s("code",[a._v("POST")]),a._v(" 请求。")]),a._v(" "),s("p",[a._v("如果这些service期望使用JSON或者其它类似的格式的数据，那么这就是一个普通的POST请求。在 "),s("code",[a._v("curl")]),a._v(" 中就可以使用 "),s("code",[a._v("-d")]),a._v(" 选项。不过要注意 "),s("code",[a._v("-d")]),a._v(" 的默认 "),s("code",[a._v("Content-Type")]),a._v(" 是不是期望的格式，如果不是的话，可以使用 "),s("code",[a._v("-H")]),a._v(" 进行更改。")]),a._v(" "),s("h3",{attrs:{id:"curl-post-上传二进制文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#curl-post-上传二进制文件"}},[a._v("#")]),a._v(" curl POST 上传二进制文件")]),a._v(" "),s("p",[a._v("上面的两种请求，都是只传输字符串，我们在测试上传接口的时候，会要求传输文件。")]),a._v(" "),s("p",[a._v("我们用 "),s("code",[a._v('-F "file=@filePath"')]),a._v(" 的选项，传输文件即可。命令如下：")]),a._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" http://192.168.56.103:7788/demo/curl-test/file "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-F")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"file=@/home/image.jpg"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("执行结果如下图所示：")]),a._v(" "),s("p",[a._v("上面命令会给 HTTP 请求加上标头 "),s("code",[a._v("Content-Type: multipart/form-data")]),a._v("，然后将文件 "),s("code",[a._v("image.jpg")]),a._v(" 作为 "),s("code",[a._v("file")]),a._v(" 字段上传。")]),a._v(" "),s("h4",{attrs:{id:"post一个二进制数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#post一个二进制数据"}},[a._v("#")]),a._v(" POST一个二进制数据")]),a._v(" "),s("p",[a._v("在 curl 中，我们也可以提交一个文件，可以使用 "),s("strong",[a._v("–data-binary")]),a._v(" 选项来指定一个文件：")]),a._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[a._v("curl "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("binary "),s("span",{pre:!0,attrs:{class:"token label symbol"}},[a._v("@filename")]),a._v(" http"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("命令行是可以保存历史记录的，我们使用 "),s("code",[a._v("ctrl+r")]),a._v(" 快捷键可以进行历史命令搜索，这样，我们可以非常方便的重复进行命令调试。在命令行中使用 ctrl + r 激活搜索，然后输入关键词。如果搜索出来的结果有多条，当前的这条不是你想要的，继续按 ctrl + r 快捷键，可以切换搜索结果。确定了某条历史执行命令之后，可以按 回车键 立即执行该命令，也可以按一下 ➡️ 右方向键，然后退出搜索模式，进而修改这条命令，然后继续执行。")])])}),[],!1,null,null,null);s.default=r.exports}}]);